{"version":3,"file":"frontend.js","mappings":";;;;;;;;;AAAA;AACA,EAAE,KAA4D,oBAAoB,mBAAO,CAAC,oBAAO;AACjG,EAAE,CAC0H;AAC5H,CAAC,qCAAqC;;AAEtC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,8BAA8B,+BAA+B;AAC7D;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2CAA2C,SAAS;;AAEpD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;AACA;;AAEA,qBAAqB,uBAAuB;AAC5C;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,6CAA6C,kBAAkB,KAAK,oBAAoB;AACxF,KAAK;AACL;;AAEA,qOAAqO;AACrO;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,oBAAoB;;AAEzB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK,2BAA2B;;AAEhC;AACA;AACA;AACA;AACA;AACA,KAAK,gCAAgC;;AAErC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK,yCAAyC;;AAE9C;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0EAA0E;;AAE1E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6CAA6C;AAC7C;;AAEA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,oBAAoB;;AAEzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;;;AAGP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,KAAK,uCAAuC;;AAE5C;AACA;AACA;AACA;AACA;AACA,KAAK,gCAAgC;;AAErC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK,4CAA4C;;AAEjD;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wDAAwD;AACxD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA,YAAY;;;AAGZ,2CAA2C;;AAE3C;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK,2BAA2B;;AAEhC;AACA;AACA,KAAK,mBAAmB;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,gCAAgC;;AAErC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;;;;;AC1tCD;AACA;AACA,wIAAwI;AACxI;AACA;;AAEA,kBAAkB,oBAAoB;AACtC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;;AAEA;AACA;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG,GAAG;;AAEN;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;;AAGA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA,sEAAsE,aAAa;AACnF;AACA;;AAEA;AACA,8BAA8B;;AAE9B;AACA;AACA,GAAG;AACH;;AAEsB;;;;;;;;;;;;;;;;;AC1KY;;;;;;;;;;;;;;;;;;;;;ACAU;AACG;AACyC;AAExF,MAAMO,mBAAmB,GAAGL,6DAAU,CAAC,2BAA2B,CAAC;AAEnE,MAAMM,aAAa,GAAIC,KAAK,IAAK;EAChC,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","sources":["webpack://bookitfast/./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js","webpack://bookitfast/./node_modules/@stripe/stripe-js/dist/index.mjs","webpack://bookitfast/./node_modules/@stripe/stripe-js/lib/index.mjs","webpack://bookitfast/./src/components/MultiEmbedForm.js","webpack://bookitfast/external window [\"wp\",\"element\"]","webpack://bookitfast/external window \"React\"","webpack://bookitfast/webpack/bootstrap","webpack://bookitfast/webpack/runtime/compat get default export","webpack://bookitfast/webpack/runtime/define property getters","webpack://bookitfast/webpack/runtime/hasOwnProperty shorthand","webpack://bookitfast/webpack/runtime/make namespace object","webpack://bookitfast/./src/frontend.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ReactStripe = {}, global.React));\n})(this, (function (exports, React) { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function getDefaultExportFromCjs (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  var propTypes = {exports: {}};\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var ReactPropTypesSecret_1;\n  var hasRequiredReactPropTypesSecret;\n\n  function requireReactPropTypesSecret() {\n    if (hasRequiredReactPropTypesSecret) return ReactPropTypesSecret_1;\n    hasRequiredReactPropTypesSecret = 1;\n\n    var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n    ReactPropTypesSecret_1 = ReactPropTypesSecret;\n    return ReactPropTypesSecret_1;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var factoryWithThrowingShims;\n  var hasRequiredFactoryWithThrowingShims;\n\n  function requireFactoryWithThrowingShims() {\n    if (hasRequiredFactoryWithThrowingShims) return factoryWithThrowingShims;\n    hasRequiredFactoryWithThrowingShims = 1;\n\n    var ReactPropTypesSecret = requireReactPropTypesSecret();\n\n    function emptyFunction() {}\n\n    function emptyFunctionWithReset() {}\n\n    emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n    factoryWithThrowingShims = function () {\n      function shim(props, propName, componentName, location, propFullName, secret) {\n        if (secret === ReactPropTypesSecret) {\n          // It is still safe when called from React.\n          return;\n        }\n\n        var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n        err.name = 'Invariant Violation';\n        throw err;\n      }\n      shim.isRequired = shim;\n\n      function getShim() {\n        return shim;\n      }\n      // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n      var ReactPropTypes = {\n        array: shim,\n        bool: shim,\n        func: shim,\n        number: shim,\n        object: shim,\n        string: shim,\n        symbol: shim,\n        any: shim,\n        arrayOf: getShim,\n        element: shim,\n        elementType: shim,\n        instanceOf: getShim,\n        node: shim,\n        objectOf: getShim,\n        oneOf: getShim,\n        oneOfType: getShim,\n        shape: getShim,\n        exact: getShim,\n        checkPropTypes: emptyFunctionWithReset,\n        resetWarningCache: emptyFunction\n      };\n      ReactPropTypes.PropTypes = ReactPropTypes;\n      return ReactPropTypes;\n    };\n\n    return factoryWithThrowingShims;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    propTypes.exports = requireFactoryWithThrowingShims()();\n  }\n\n  var propTypesExports = propTypes.exports;\n  var PropTypes = /*@__PURE__*/getDefaultExportFromCjs(propTypesExports);\n\n  var useAttachEvent = function useAttachEvent(element, event, cb) {\n    var cbDefined = !!cb;\n    var cbRef = React.useRef(cb); // In many integrations the callback prop changes on each render.\n    // Using a ref saves us from calling element.on/.off every render.\n\n    React.useEffect(function () {\n      cbRef.current = cb;\n    }, [cb]);\n    React.useEffect(function () {\n      if (!cbDefined || !element) {\n        return function () {};\n      }\n\n      var decoratedCb = function decoratedCb() {\n        if (cbRef.current) {\n          cbRef.current.apply(cbRef, arguments);\n        }\n      };\n\n      element.on(event, decoratedCb);\n      return function () {\n        element.off(event, decoratedCb);\n      };\n    }, [cbDefined, event, element, cbRef]);\n  };\n\n  var usePrevious = function usePrevious(value) {\n    var ref = React.useRef(value);\n    React.useEffect(function () {\n      ref.current = value;\n    }, [value]);\n    return ref.current;\n  };\n\n  var isUnknownObject = function isUnknownObject(raw) {\n    return raw !== null && _typeof(raw) === 'object';\n  };\n  var isPromise = function isPromise(raw) {\n    return isUnknownObject(raw) && typeof raw.then === 'function';\n  }; // We are using types to enforce the `stripe` prop in this lib,\n  // but in an untyped integration `stripe` could be anything, so we need\n  // to do some sanity validation to prevent type errors.\n\n  var isStripe = function isStripe(raw) {\n    return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n  };\n\n  var PLAIN_OBJECT_STR = '[object Object]';\n  var isEqual = function isEqual(left, right) {\n    if (!isUnknownObject(left) || !isUnknownObject(right)) {\n      return left === right;\n    }\n\n    var leftArray = Array.isArray(left);\n    var rightArray = Array.isArray(right);\n    if (leftArray !== rightArray) return false;\n    var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n    var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n    if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n    // fallback to reference check.\n\n    if (!leftPlainObject && !leftArray) return left === right;\n    var leftKeys = Object.keys(left);\n    var rightKeys = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) return false;\n    var keySet = {};\n\n    for (var i = 0; i < leftKeys.length; i += 1) {\n      keySet[leftKeys[i]] = true;\n    }\n\n    for (var _i = 0; _i < rightKeys.length; _i += 1) {\n      keySet[rightKeys[_i]] = true;\n    }\n\n    var allKeys = Object.keys(keySet);\n\n    if (allKeys.length !== leftKeys.length) {\n      return false;\n    }\n\n    var l = left;\n    var r = right;\n\n    var pred = function pred(key) {\n      return isEqual(l[key], r[key]);\n    };\n\n    return allKeys.every(pred);\n  };\n\n  var extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n    if (!isUnknownObject(options)) {\n      return null;\n    }\n\n    return Object.keys(options).reduce(function (newOptions, key) {\n      var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n      if (immutableKeys.includes(key)) {\n        if (isUpdated) {\n          console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n        }\n\n        return newOptions;\n      }\n\n      if (!isUpdated) {\n        return newOptions;\n      }\n\n      return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n    }, null);\n  };\n\n  var INVALID_STRIPE_ERROR$2 = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n  // integration `stripe` could be anything, so we need to do some sanity\n  // validation to prevent type errors.\n\n  var validateStripe = function validateStripe(maybeStripe) {\n    var errorMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INVALID_STRIPE_ERROR$2;\n\n    if (maybeStripe === null || isStripe(maybeStripe)) {\n      return maybeStripe;\n    }\n\n    throw new Error(errorMsg);\n  };\n\n  var parseStripeProp = function parseStripeProp(raw) {\n    var errorMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INVALID_STRIPE_ERROR$2;\n\n    if (isPromise(raw)) {\n      return {\n        tag: 'async',\n        stripePromise: Promise.resolve(raw).then(function (result) {\n          return validateStripe(result, errorMsg);\n        })\n      };\n    }\n\n    var stripe = validateStripe(raw, errorMsg);\n\n    if (stripe === null) {\n      return {\n        tag: 'empty'\n      };\n    }\n\n    return {\n      tag: 'sync',\n      stripe: stripe\n    };\n  };\n\n  var registerWithStripeJs = function registerWithStripeJs(stripe) {\n    if (!stripe || !stripe._registerWrapper || !stripe.registerAppInfo) {\n      return;\n    }\n\n    stripe._registerWrapper({\n      name: 'react-stripe-js',\n      version: \"3.1.0\"\n    });\n\n    stripe.registerAppInfo({\n      name: 'react-stripe-js',\n      version: \"3.1.0\",\n      url: 'https://stripe.com/docs/stripe-js/react'\n    });\n  };\n\n  var ElementsContext = /*#__PURE__*/React.createContext(null);\n  ElementsContext.displayName = 'ElementsContext';\n  var parseElementsContext = function parseElementsContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  /**\n   * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n   * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n   *\n   * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n   * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n   * Pass the returned `Promise` to `Elements`.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n   */\n\n  var Elements = function Elements(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp);\n    }, [rawStripeProp]); // For a sync stripe instance, initialize into context\n\n    var _React$useState = React.useState(function () {\n      return {\n        stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n        elements: parsed.tag === 'sync' ? parsed.stripe.elements(options) : null\n      };\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        ctx = _React$useState2[0],\n        setContext = _React$useState2[1];\n\n    React.useEffect(function () {\n      var isMounted = true;\n\n      var safeSetContext = function safeSetContext(stripe) {\n        setContext(function (ctx) {\n          // no-op if we already have a stripe instance (https://github.com/stripe/react-stripe-js/issues/296)\n          if (ctx.stripe) return ctx;\n          return {\n            stripe: stripe,\n            elements: stripe.elements(options)\n          };\n        });\n      }; // For an async stripePromise, store it in context once resolved\n\n\n      if (parsed.tag === 'async' && !ctx.stripe) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted) {\n            // Only update Elements context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            safeSetContext(stripe);\n          }\n        });\n      } else if (parsed.tag === 'sync' && !ctx.stripe) {\n        // Or, handle a sync stripe instance going from null -> populated\n        safeSetContext(parsed.stripe);\n      }\n\n      return function () {\n        isMounted = false;\n      };\n    }, [parsed, ctx, options]); // Warn on changes to stripe prop\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (!ctx.elements) {\n        return;\n      }\n\n      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n      if (updates) {\n        ctx.elements.update(updates);\n      }\n    }, [options, prevOptions, ctx.elements]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(ctx.stripe);\n    }, [ctx.stripe]);\n    return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n      value: ctx\n    }, children);\n  };\n  Elements.propTypes = {\n    stripe: PropTypes.any,\n    options: PropTypes.object\n  };\n  var useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n    var ctx = React.useContext(ElementsContext);\n    return parseElementsContext(ctx, useCaseMessage);\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n   */\n\n  var useElements = function useElements() {\n    var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n        elements = _useElementsContextWi.elements;\n\n    return elements;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n   */\n\n  var ElementsConsumer = function ElementsConsumer(_ref2) {\n    var children = _ref2.children;\n    var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n    return children(ctx);\n  };\n  ElementsConsumer.propTypes = {\n    children: PropTypes.func.isRequired\n  };\n\n  var _excluded = [\"on\", \"session\"];\n  var CheckoutSdkContext = /*#__PURE__*/React.createContext(null);\n  CheckoutSdkContext.displayName = 'CheckoutSdkContext';\n  var parseCheckoutSdkContext = function parseCheckoutSdkContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find CheckoutProvider context; You need to wrap the part of your app that \".concat(useCase, \" in an <CheckoutProvider> provider.\"));\n    }\n\n    return ctx;\n  };\n  var CheckoutContext = /*#__PURE__*/React.createContext(null);\n  CheckoutContext.displayName = 'CheckoutContext';\n  var extractCheckoutContextValue = function extractCheckoutContextValue(checkoutSdk, sessionState) {\n    if (!checkoutSdk) {\n      return null;\n    }\n\n    checkoutSdk.on;\n        checkoutSdk.session;\n        var actions = _objectWithoutProperties(checkoutSdk, _excluded);\n\n    if (!sessionState) {\n      return _objectSpread2(_objectSpread2({}, actions), checkoutSdk.session());\n    }\n\n    return _objectSpread2(_objectSpread2({}, actions), sessionState);\n  };\n  var INVALID_STRIPE_ERROR$1 = 'Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.';\n  var CheckoutProvider = function CheckoutProvider(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp, INVALID_STRIPE_ERROR$1);\n    }, [rawStripeProp]); // State used to trigger a re-render when sdk.session is updated\n\n    var _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        session = _React$useState2[0],\n        setSession = _React$useState2[1];\n\n    var _React$useState3 = React.useState(function () {\n      return {\n        stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n        checkoutSdk: null\n      };\n    }),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        ctx = _React$useState4[0],\n        setContext = _React$useState4[1];\n\n    var safeSetContext = function safeSetContext(stripe, checkoutSdk) {\n      setContext(function (ctx) {\n        if (ctx.stripe && ctx.checkoutSdk) {\n          return ctx;\n        }\n\n        return {\n          stripe: stripe,\n          checkoutSdk: checkoutSdk\n        };\n      });\n    }; // Ref used to avoid calling initCheckout multiple times when options changes\n\n\n    var initCheckoutCalledRef = React.useRef(false);\n    React.useEffect(function () {\n      var isMounted = true;\n\n      if (parsed.tag === 'async' && !ctx.stripe) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted && !initCheckoutCalledRef.current) {\n            // Only update context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            initCheckoutCalledRef.current = true;\n            stripe.initCheckout(options).then(function (checkoutSdk) {\n              if (checkoutSdk) {\n                safeSetContext(stripe, checkoutSdk);\n                checkoutSdk.on('change', setSession);\n              }\n            });\n          }\n        });\n      } else if (parsed.tag === 'sync' && parsed.stripe && !initCheckoutCalledRef.current) {\n        initCheckoutCalledRef.current = true;\n        parsed.stripe.initCheckout(options).then(function (checkoutSdk) {\n          if (checkoutSdk) {\n            safeSetContext(parsed.stripe, checkoutSdk);\n            checkoutSdk.on('change', setSession);\n          }\n        });\n      }\n\n      return function () {\n        isMounted = false;\n      };\n    }, [parsed, ctx, options, setSession]); // Warn on changes to stripe prop\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      var _prevOptions$elements, _options$elementsOpti;\n\n      if (!ctx.checkoutSdk) {\n        return;\n      }\n\n      if (options.clientSecret && !isUnknownObject(prevOptions) && !isEqual(options.clientSecret, prevOptions.clientSecret)) {\n        console.warn('Unsupported prop change: options.clientSecret is not a mutable property.');\n      }\n\n      var previousAppearance = prevOptions === null || prevOptions === void 0 ? void 0 : (_prevOptions$elements = prevOptions.elementsOptions) === null || _prevOptions$elements === void 0 ? void 0 : _prevOptions$elements.appearance;\n      var currentAppearance = options === null || options === void 0 ? void 0 : (_options$elementsOpti = options.elementsOptions) === null || _options$elementsOpti === void 0 ? void 0 : _options$elementsOpti.appearance;\n\n      if (currentAppearance && !isEqual(currentAppearance, previousAppearance)) {\n        ctx.checkoutSdk.changeAppearance(currentAppearance);\n      }\n    }, [options, prevOptions, ctx.checkoutSdk]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(ctx.stripe);\n    }, [ctx.stripe]);\n    var checkoutContextValue = React.useMemo(function () {\n      return extractCheckoutContextValue(ctx.checkoutSdk, session);\n    }, [ctx.checkoutSdk, session]);\n\n    if (!ctx.checkoutSdk) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(CheckoutSdkContext.Provider, {\n      value: ctx\n    }, /*#__PURE__*/React.createElement(CheckoutContext.Provider, {\n      value: checkoutContextValue\n    }, children));\n  };\n  CheckoutProvider.propTypes = {\n    stripe: PropTypes.any,\n    options: PropTypes.shape({\n      clientSecret: PropTypes.string.isRequired,\n      elementsOptions: PropTypes.object\n    }).isRequired\n  };\n  var useCheckoutSdkContextWithUseCase = function useCheckoutSdkContextWithUseCase(useCaseString) {\n    var ctx = React.useContext(CheckoutSdkContext);\n    return parseCheckoutSdkContext(ctx, useCaseString);\n  };\n  var useElementsOrCheckoutSdkContextWithUseCase = function useElementsOrCheckoutSdkContextWithUseCase(useCaseString) {\n    var checkoutSdkContext = React.useContext(CheckoutSdkContext);\n    var elementsContext = React.useContext(ElementsContext);\n\n    if (checkoutSdkContext && elementsContext) {\n      throw new Error(\"You cannot wrap the part of your app that \".concat(useCaseString, \" in both <CheckoutProvider> and <Elements> providers.\"));\n    }\n\n    if (checkoutSdkContext) {\n      return parseCheckoutSdkContext(checkoutSdkContext, useCaseString);\n    }\n\n    return parseElementsContext(elementsContext, useCaseString);\n  };\n  var useCheckout = function useCheckout() {\n    // ensure it's in CheckoutProvider\n    useCheckoutSdkContextWithUseCase('calls useCheckout()');\n    var ctx = React.useContext(CheckoutContext);\n\n    if (!ctx) {\n      throw new Error('Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.');\n    }\n\n    return ctx;\n  };\n\n  var capitalized = function capitalized(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  var createElementComponent = function createElementComponent(type, isServer) {\n    var displayName = \"\".concat(capitalized(type), \"Element\");\n\n    var ClientElement = function ClientElement(_ref) {\n      var id = _ref.id,\n          className = _ref.className,\n          _ref$options = _ref.options,\n          options = _ref$options === void 0 ? {} : _ref$options,\n          onBlur = _ref.onBlur,\n          onFocus = _ref.onFocus,\n          onReady = _ref.onReady,\n          onChange = _ref.onChange,\n          onEscape = _ref.onEscape,\n          onClick = _ref.onClick,\n          onLoadError = _ref.onLoadError,\n          onLoaderStart = _ref.onLoaderStart,\n          onNetworksChange = _ref.onNetworksChange,\n          onConfirm = _ref.onConfirm,\n          onCancel = _ref.onCancel,\n          onShippingAddressChange = _ref.onShippingAddressChange,\n          onShippingRateChange = _ref.onShippingRateChange;\n      var ctx = useElementsOrCheckoutSdkContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var elements = 'elements' in ctx ? ctx.elements : null;\n      var checkoutSdk = 'checkoutSdk' in ctx ? ctx.checkoutSdk : null;\n\n      var _React$useState = React.useState(null),\n          _React$useState2 = _slicedToArray(_React$useState, 2),\n          element = _React$useState2[0],\n          setElement = _React$useState2[1];\n\n      var elementRef = React.useRef(null);\n      var domNode = React.useRef(null); // For every event where the merchant provides a callback, call element.on\n      // with that callback. If the merchant ever changes the callback, removes\n      // the old callback with element.off and then call element.on with the new one.\n\n      useAttachEvent(element, 'blur', onBlur);\n      useAttachEvent(element, 'focus', onFocus);\n      useAttachEvent(element, 'escape', onEscape);\n      useAttachEvent(element, 'click', onClick);\n      useAttachEvent(element, 'loaderror', onLoadError);\n      useAttachEvent(element, 'loaderstart', onLoaderStart);\n      useAttachEvent(element, 'networkschange', onNetworksChange);\n      useAttachEvent(element, 'confirm', onConfirm);\n      useAttachEvent(element, 'cancel', onCancel);\n      useAttachEvent(element, 'shippingaddresschange', onShippingAddressChange);\n      useAttachEvent(element, 'shippingratechange', onShippingRateChange);\n      useAttachEvent(element, 'change', onChange);\n      var readyCallback;\n\n      if (onReady) {\n        if (type === 'expressCheckout') {\n          // Passes through the event, which includes visible PM types\n          readyCallback = onReady;\n        } else {\n          // For other Elements, pass through the Element itself.\n          readyCallback = function readyCallback() {\n            onReady(element);\n          };\n        }\n      }\n\n      useAttachEvent(element, 'ready', readyCallback);\n      React.useLayoutEffect(function () {\n        if (elementRef.current === null && domNode.current !== null && (elements || checkoutSdk)) {\n          var newElement = null;\n\n          if (checkoutSdk) {\n            newElement = checkoutSdk.createElement(type, options);\n          } else if (elements) {\n            newElement = elements.create(type, options);\n          } // Store element in a ref to ensure it's _immediately_ available in cleanup hooks in StrictMode\n\n\n          elementRef.current = newElement; // Store element in state to facilitate event listener attachment\n\n          setElement(newElement);\n\n          if (newElement) {\n            newElement.mount(domNode.current);\n          }\n        }\n      }, [elements, checkoutSdk, options]);\n      var prevOptions = usePrevious(options);\n      React.useEffect(function () {\n        if (!elementRef.current) {\n          return;\n        }\n\n        var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n        if (updates && 'update' in elementRef.current) {\n          elementRef.current.update(updates);\n        }\n      }, [options, prevOptions]);\n      React.useLayoutEffect(function () {\n        return function () {\n          if (elementRef.current && typeof elementRef.current.destroy === 'function') {\n            try {\n              elementRef.current.destroy();\n              elementRef.current = null;\n            } catch (error) {// Do nothing\n            }\n          }\n        };\n      }, []);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className,\n        ref: domNode\n      });\n    }; // Only render the Element wrapper in a server environment.\n\n\n    var ServerElement = function ServerElement(props) {\n      useElementsOrCheckoutSdkContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var id = props.id,\n          className = props.className;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className\n      });\n    };\n\n    var Element = isServer ? ServerElement : ClientElement;\n    Element.propTypes = {\n      id: PropTypes.string,\n      className: PropTypes.string,\n      onChange: PropTypes.func,\n      onBlur: PropTypes.func,\n      onFocus: PropTypes.func,\n      onReady: PropTypes.func,\n      onEscape: PropTypes.func,\n      onClick: PropTypes.func,\n      onLoadError: PropTypes.func,\n      onLoaderStart: PropTypes.func,\n      onNetworksChange: PropTypes.func,\n      onConfirm: PropTypes.func,\n      onCancel: PropTypes.func,\n      onShippingAddressChange: PropTypes.func,\n      onShippingRateChange: PropTypes.func,\n      options: PropTypes.object\n    };\n    Element.displayName = displayName;\n    Element.__elementType = type;\n    return Element;\n  };\n\n  var isServer = typeof window === 'undefined';\n\n  var EmbeddedCheckoutContext = /*#__PURE__*/React.createContext(null);\n  EmbeddedCheckoutContext.displayName = 'EmbeddedCheckoutProviderContext';\n  var useEmbeddedCheckoutContext = function useEmbeddedCheckoutContext() {\n    var ctx = React.useContext(EmbeddedCheckoutContext);\n\n    if (!ctx) {\n      throw new Error('<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>');\n    }\n\n    return ctx;\n  };\n  var INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.';\n  var EmbeddedCheckoutProvider = function EmbeddedCheckoutProvider(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp, INVALID_STRIPE_ERROR);\n    }, [rawStripeProp]);\n    var embeddedCheckoutPromise = React.useRef(null);\n    var loadedStripe = React.useRef(null);\n\n    var _React$useState = React.useState({\n      embeddedCheckout: null\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        ctx = _React$useState2[0],\n        setContext = _React$useState2[1];\n\n    React.useEffect(function () {\n      // Don't support any ctx updates once embeddedCheckout or stripe is set.\n      if (loadedStripe.current || embeddedCheckoutPromise.current) {\n        return;\n      }\n\n      var setStripeAndInitEmbeddedCheckout = function setStripeAndInitEmbeddedCheckout(stripe) {\n        if (loadedStripe.current || embeddedCheckoutPromise.current) return;\n        loadedStripe.current = stripe;\n        embeddedCheckoutPromise.current = loadedStripe.current.initEmbeddedCheckout(options).then(function (embeddedCheckout) {\n          setContext({\n            embeddedCheckout: embeddedCheckout\n          });\n        });\n      }; // For an async stripePromise, store it once resolved\n\n\n      if (parsed.tag === 'async' && !loadedStripe.current && (options.clientSecret || options.fetchClientSecret)) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe) {\n            setStripeAndInitEmbeddedCheckout(stripe);\n          }\n        });\n      } else if (parsed.tag === 'sync' && !loadedStripe.current && (options.clientSecret || options.fetchClientSecret)) {\n        // Or, handle a sync stripe instance going from null -> populated\n        setStripeAndInitEmbeddedCheckout(parsed.stripe);\n      }\n    }, [parsed, options, ctx, loadedStripe]);\n    React.useEffect(function () {\n      // cleanup on unmount\n      return function () {\n        // If embedded checkout is fully initialized, destroy it.\n        if (ctx.embeddedCheckout) {\n          embeddedCheckoutPromise.current = null;\n          ctx.embeddedCheckout.destroy();\n        } else if (embeddedCheckoutPromise.current) {\n          // If embedded checkout is still initializing, destroy it once\n          // it's done. This could be caused by unmounting very quickly\n          // after mounting.\n          embeddedCheckoutPromise.current.then(function () {\n            embeddedCheckoutPromise.current = null;\n\n            if (ctx.embeddedCheckout) {\n              ctx.embeddedCheckout.destroy();\n            }\n          });\n        }\n      };\n    }, [ctx.embeddedCheckout]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(loadedStripe);\n    }, [loadedStripe]); // Warn on changes to stripe prop.\n    // The stripe prop value can only go from null to non-null once and\n    // can't be changed after that.\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Warn on changes to options.\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (prevOptions == null) {\n        return;\n      }\n\n      if (options == null) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.');\n        return;\n      }\n\n      if (options.clientSecret === undefined && options.fetchClientSecret === undefined) {\n        console.warn('Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`.');\n      }\n\n      if (prevOptions.clientSecret != null && options.clientSecret !== prevOptions.clientSecret) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead.');\n      }\n\n      if (prevOptions.fetchClientSecret != null && options.fetchClientSecret !== prevOptions.fetchClientSecret) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead.');\n      }\n\n      if (prevOptions.onComplete != null && options.onComplete !== prevOptions.onComplete) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.');\n      }\n\n      if (prevOptions.onShippingDetailsChange != null && options.onShippingDetailsChange !== prevOptions.onShippingDetailsChange) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it.');\n      }\n\n      if (prevOptions.onLineItemsChange != null && options.onLineItemsChange !== prevOptions.onLineItemsChange) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.');\n      }\n    }, [prevOptions, options]);\n    return /*#__PURE__*/React.createElement(EmbeddedCheckoutContext.Provider, {\n      value: ctx\n    }, children);\n  };\n\n  var EmbeddedCheckoutClientElement = function EmbeddedCheckoutClientElement(_ref) {\n    var id = _ref.id,\n        className = _ref.className;\n\n    var _useEmbeddedCheckoutC = useEmbeddedCheckoutContext(),\n        embeddedCheckout = _useEmbeddedCheckoutC.embeddedCheckout;\n\n    var isMounted = React.useRef(false);\n    var domNode = React.useRef(null);\n    React.useLayoutEffect(function () {\n      if (!isMounted.current && embeddedCheckout && domNode.current !== null) {\n        embeddedCheckout.mount(domNode.current);\n        isMounted.current = true;\n      } // Clean up on unmount\n\n\n      return function () {\n        if (isMounted.current && embeddedCheckout) {\n          try {\n            embeddedCheckout.unmount();\n            isMounted.current = false;\n          } catch (e) {// Do nothing.\n            // Parent effects are destroyed before child effects, so\n            // in cases where both the EmbeddedCheckoutProvider and\n            // the EmbeddedCheckout component are removed at the same\n            // time, the embeddedCheckout instance will be destroyed,\n            // which causes an error when calling unmount.\n          }\n        }\n      };\n    }, [embeddedCheckout]);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: domNode,\n      id: id,\n      className: className\n    });\n  }; // Only render the wrapper in a server environment.\n\n\n  var EmbeddedCheckoutServerElement = function EmbeddedCheckoutServerElement(_ref2) {\n    var id = _ref2.id,\n        className = _ref2.className;\n    // Validate that we are in the right context by calling useEmbeddedCheckoutContext.\n    useEmbeddedCheckoutContext();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className\n    });\n  };\n\n  var EmbeddedCheckout = isServer ? EmbeddedCheckoutServerElement : EmbeddedCheckoutClientElement;\n\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n   */\n\n  var useStripe = function useStripe() {\n    var _useElementsOrCheckou = useElementsOrCheckoutSdkContextWithUseCase('calls useStripe()'),\n        stripe = _useElementsOrCheckou.stripe;\n\n    return stripe;\n  };\n\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardElement = createElementComponent('card', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardNumberElement = createElementComponent('cardNumber', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardExpiryElement = createElementComponent('cardExpiry', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardCvcElement = createElementComponent('cardCvc', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var FpxBankElement = createElementComponent('fpxBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IbanElement = createElementComponent('iban', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IdealBankElement = createElementComponent('idealBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var P24BankElement = createElementComponent('p24Bank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var EpsBankElement = createElementComponent('epsBank', isServer);\n  var PaymentElement = createElementComponent('payment', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ExpressCheckoutElement = createElementComponent('expressCheckout', isServer);\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   */\n\n  var CurrencySelectorElement = createElementComponent('currencySelector', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AddressElement = createElementComponent('address', isServer);\n  /**\n   * @deprecated\n   * Use `AddressElement` instead.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentMethodMessagingElement = createElementComponent('paymentMethodMessaging', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\n  exports.AddressElement = AddressElement;\n  exports.AffirmMessageElement = AffirmMessageElement;\n  exports.AfterpayClearpayMessageElement = AfterpayClearpayMessageElement;\n  exports.AuBankAccountElement = AuBankAccountElement;\n  exports.CardCvcElement = CardCvcElement;\n  exports.CardElement = CardElement;\n  exports.CardExpiryElement = CardExpiryElement;\n  exports.CardNumberElement = CardNumberElement;\n  exports.CheckoutProvider = CheckoutProvider;\n  exports.CurrencySelectorElement = CurrencySelectorElement;\n  exports.Elements = Elements;\n  exports.ElementsConsumer = ElementsConsumer;\n  exports.EmbeddedCheckout = EmbeddedCheckout;\n  exports.EmbeddedCheckoutProvider = EmbeddedCheckoutProvider;\n  exports.EpsBankElement = EpsBankElement;\n  exports.ExpressCheckoutElement = ExpressCheckoutElement;\n  exports.FpxBankElement = FpxBankElement;\n  exports.IbanElement = IbanElement;\n  exports.IdealBankElement = IdealBankElement;\n  exports.LinkAuthenticationElement = LinkAuthenticationElement;\n  exports.P24BankElement = P24BankElement;\n  exports.PaymentElement = PaymentElement;\n  exports.PaymentMethodMessagingElement = PaymentMethodMessagingElement;\n  exports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n  exports.ShippingAddressElement = ShippingAddressElement;\n  exports.useCheckout = useCheckout;\n  exports.useElements = useElements;\n  exports.useStripe = useStripe;\n\n}));\n","var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"5.6.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise$1 = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function () {\n    reject(new Error('Failed to load Stripe.js'));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise$1 !== null) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise$1[\"catch\"](function (error) {\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise) {\n    return stripePromise;\n  }\n\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n  return stripePromise;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","export * from '../dist/index.mjs';\n","import { useState, useEffect } from 'react';\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\n\nconst stripePromiseGlobal = loadStripe('your-publishable-key-here');\n\nconst getQueryParam = (param) => {\n\tconst urlParams = new URLSearchParams(window.location.search);\n\treturn urlParams.get(param);\n};\n\nconst parseDateFromUrl = (dateString) => {\n\tconst dateParts = dateString.split('-');\n\tif (dateParts.length === 3) {\n\t\tconst [day, month, year] = dateParts.map(Number);\n\t\tif (!isNaN(day) && !isNaN(month) && !isNaN(year)) {\n\t\t\tconst parsedDate = new Date(year, month - 1, day);\n\t\t\tparsedDate.setHours(12, 0, 0, 0); // Prevents timezone shift\n\t\t\treturn parsedDate.toISOString().split('T')[0]; // Returns YYYY-MM-DD format\n\t\t}\n\t}\n\treturn null;\n};\n\nconst MultiEmbedForm = ({\n\t\t\t\t\t\t\tpropertyIds = '',\n\t\t\t\t\t\t\tshowDiscount = false,\n\t\t\t\t\t\t\t// Ensure postcode and suburb are shown as these are required\n\t\t\t\t\t\t\tshowSuburb = true,\n\t\t\t\t\t\t\tshowPostcode = true,\n\t\t\t\t\t\t\tshowRedeemGiftCertificate = false,\n\t\t\t\t\t\t\tshowComments = false,\n\t\t\t\t\t\t}) => {\n\tconst nightsFromUrl = getQueryParam('nights');\n\tconst validatedNights = nightsFromUrl && !isNaN(nightsFromUrl) ? parseInt(nightsFromUrl, 10) : 1;\n\n\t// Extract and validate \"start\" date from URL\n\tconst startDateFromUrl = getQueryParam('start');\n\tconst discountCodeFromUrl = getQueryParam('discount');\n\tconst validatedStartDate = startDateFromUrl ? parseDateFromUrl(startDateFromUrl) : '';\n\n\tconst [form, setForm] = useState({ date: validatedStartDate, nights: validatedNights });\n\tconst [availability, setAvailability] = useState(null);\n\tconst [selectionData, setSelectionData] = useState({});\n\tconst [stripePromise, setStripePromise] = useState(null);\n\tconst [summary, setSummary] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst [error, setError] = useState('');\n\tconst [userDetails, setUserDetails] = useState({\n\t\tfirstName: \"\",\n\t\tlastName: \"\",\n\t\tphone: \"\",\n\t\temail: \"\",\n\t\tpostcode: \"\",\n\t\tsuburb: \"\",\n\t\tcomments: \"\",\n\t});\n\tconst [agreeToTerms, setAgreeToTerms] = useState(false);\n\tconst [discountCode, setDiscountCode] = useState(discountCodeFromUrl);\n\tconst [discountMessage, setDiscountMessage] = useState(null);\n\tconst [applyingDiscount, setApplyingDiscount] = useState(false);\n\tconst [paymentSuccess, setPaymentSuccess] = useState(false);\n\n\t// New states for payment option and validation\n\tconst [showPaymentForm, setShowPaymentForm] = useState(false);\n\tconst [selectedPaymentOption, setSelectedPaymentOption] = useState(null); // \"deposit\" or \"full\"\n\tconst [formErrors, setFormErrors] = useState({});\n\n\tconst [giftCertificate, setGiftCertificate] = useState({ number: \"\", pin: \"\" });\n\tconst [showGiftCertificateForm, setShowGiftCertificateForm] = useState(false);\n\tconst [gcResult, setGcResult] = useState(null);\n\tconst [selectedOptionalExtras, setSelectedOptionalExtras] = useState({});\n\n\tuseEffect(() => {\n\t\tif (validatedStartDate && validatedNights) {\n\t\t\tconsole.log(\"Auto-checking availability with:\", validatedStartDate, validatedNights);\n\t\t\tfetchAvailability(validatedStartDate, validatedNights);\n\t\t}\n\t}, [validatedStartDate, validatedNights]);\n\n\t// Fetch availability data\n\tconst fetchAvailability = async (startDate = form.date, nights = form.nights) => {\n\t\tif (!startDate || !propertyIds) {\n\t\t\tconsole.warn(\"fetchAvailability skipped - Missing startDate or propertyIds\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst formattedStartDate = form.date;\n\t\tconsole.log(\"Requesting availability with:\", {\n\t\t\tids: propertyIds.split(',').filter((id) => id.trim() !== ''),\n\t\t\tstart: formattedStartDate,\n\t\t\tnights: nights,\n\t\t});\n\n\t\tsetLoading(true);\n\t\tsetError('');\n\n\t\ttry {\n\t\t\tconst response = await fetch('/wp-json/bookitfast/v1/availability', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tids: propertyIds.split(',').filter((id) => id.trim() !== ''),\n\t\t\t\t\tstart: formattedStartDate,\n\t\t\t\t\tnights: nights,\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tconst data = await response.json();\n\t\t\tsetAvailability(data);\n\n\t\t\t// Initialise selectionData for each property\n\t\t\tconst initialSelection = Object.keys(data).reduce((acc, propertyId) => {\n\t\t\t\tacc[propertyId] = false;\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t\tsetSelectionData(initialSelection);\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\tsetError('Failed to fetch availability. Please try again.');\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\t// Toggle property selection and fetch summary\n\tconst toggleSelection = async (propertyId) => {\n\t\tconst updatedSelection = {\n\t\t\t...selectionData,\n\t\t\t[propertyId]: !selectionData[propertyId],\n\t\t};\n\t\tsetSelectionData(updatedSelection);\n\n\t\t// Fetch summary if at least one property is selected\n\t\tif (Object.values(updatedSelection).includes(true)) {\n\t\t\tawait fetchSummary(updatedSelection, discountCode);\n\t\t} else {\n\t\t\tsetSummary(null);\n\t\t}\n\t};\n\n\tconst toggleOptionalExtra = (propertyId, extraId) => {\n\t\tsetSelectedOptionalExtras(prev => {\n\t\t\tconst propertyExtras = prev[propertyId] || {};\n\t\t\tconst newSelectedOptionalExtras = {\n\t\t\t\t...prev,\n\t\t\t\t[propertyId]: {\n\t\t\t\t\t...propertyExtras,\n\t\t\t\t\t[extraId]: !propertyExtras[extraId]\n\t\t\t\t}\n\t\t\t};\n\t\t\tfetchSummary(selectionData, discountCode, newSelectedOptionalExtras, 0);\n\t\t\treturn newSelectedOptionalExtras;\n\t\t});\n\t};\n\n\t// Fetch summary data for selected properties\n\tconst fetchSummary = async (updatedSelection, discountCode = null, updatedOptionalExtras = selectedOptionalExtras, retryCount = 0) => {\n\t\tconst start = form.date;\n\t\tconst nights = form.nights;\n\t\tconst end = new Date(new Date(start).getTime() + nights * 86400000).toISOString().split('T')[0];\n\n\t\tsetLoading(true);\n\t\tsetError('');\n\t\ttry {\n\t\t\tconst response = await fetch('/wp-json/bookitfast/v1/availability/summary', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tselected: updatedSelection,\n\t\t\t\t\tselected_optional_extras: updatedOptionalExtras,\n\t\t\t\t\tstart,\n\t\t\t\t\tend,\n\t\t\t\t\tdiscount_code: discountCode || null,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`HTTP error! status: ${response.status}`);\n\t\t\t}\n\t\t\tconst data = await response.json();\n\t\t\tsetSummary(data);\n\n\t\t\t// Initialise Stripe if publishable key provided\n\t\t\tif (data.stripe_publishable_key) {\n\t\t\t\tsetStripePromise(loadStripe(data.stripe_publishable_key));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Error fetching summary:\", err);\n\t\t\tif (retryCount < 3) {\n\t\t\t\tconsole.log(`Retrying... Attempt ${retryCount + 1}`);\n\t\t\t\tawait fetchSummary(updatedSelection, discountCode, updatedOptionalExtras, retryCount + 1);\n\t\t\t} else {\n\t\t\t\tsetError('Failed to fetch summary. Please try again.');\n\t\t\t}\n\t\t} finally {\n\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\t// Apply discount code\n\tconst applyDiscountCode = async () => {\n\t\tif (!discountCode) return;\n\n\t\tsetApplyingDiscount(true);\n\t\tsetDiscountMessage(null);\n\n\t\ttry {\n\t\t\tconst response = await fetch(\"https://bookitfastfilament.test/api/multi/availability/apply-discount\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tdiscount_code: discountCode,\n\t\t\t\t\tstart: form.date,\n\t\t\t\t\tnights: form.nights,\n\t\t\t\t\tproperty_ids: Object.keys(selectionData).filter(id => selectionData[id]),\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tconst data = await response.json();\n\n\t\t\tif (data.success) {\n\t\t\t\tsetSummary(data.summary);\n\t\t\t\tsetDiscountMessage({ success: true, message: \"Discount applied successfully!\" });\n\t\t\t} else {\n\t\t\t\tsetDiscountMessage({ success: false, message: data.message || \"Invalid discount code.\" });\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Error applying discount:\", err);\n\t\t\tsetDiscountMessage({ success: false, message: \"Error applying discount. Please try again.\" });\n\t\t} finally {\n\t\t\tsetApplyingDiscount(false);\n\t\t}\n\t};\n\n\t// Validate customer details before proceeding with payment\n\tconst validateCustomerDetails = () => {\n\t\tconst errors = {};\n\t\tif (!userDetails.firstName.trim()) errors.firstName = \"First name is required.\";\n\t\tif (!userDetails.lastName.trim()) errors.lastName = \"Last name is required.\";\n\t\tif (!userDetails.phone.trim()) errors.phone = \"Phone is required.\";\n\t\tif (!userDetails.email.trim()) errors.email = \"Email is required.\";\n\t\tif (showPostcode && !userDetails.postcode.trim()) errors.postcode = \"Postcode is required.\";\n\t\tif (showSuburb && !userDetails.suburb.trim()) errors.suburb = \"Suburb is required.\";\n\t\tif (!agreeToTerms) errors.agreeToTerms = \"You must agree to the terms and conditions.\";\n\n\t\tsetFormErrors(errors);\n\t\treturn Object.keys(errors).length === 0;\n\t};\n\n\t// Handle payment option selection (deposit/full)\n\tconst handlePaymentOption = (option) => {\n\t\tif (validateCustomerDetails()) {\n\t\t\tsetSelectedPaymentOption(option);\n\t\t\tsetShowPaymentForm(true);\n\t\t} else {\n\t\t\t// Scroll to the bottom to show validation errors\n\t\t\twindow.scrollTo(0, document.body.scrollHeight);\n\t\t}\n\t};\n\n// Trigger display of gift certificate form\n\tconst triggerShowGiftCertificate = () => {\n\t\tsetShowGiftCertificateForm(true);\n\t};\n\n\t// Apply gift certificate via POST request\n\tconst applyGiftCertificate = async (e) => {\n\t\te.preventDefault();\n\t\tif (!summary) return;\n\t\tconst data = {\n\t\t\tcertificate: giftCertificate,\n\t\t\tsummary: summary\n\t\t};\n\t\ttry {\n\t\t\tconst response = await fetch('/wp-json/bookitfast/v1/apply-gift-certificate', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify(data)\n\t\t\t});\n\t\t\tconst responseData = await response.json();\n\t\t\tsetGcResult(responseData);\n\t\t\t// Update summary with new totals and set order_payable_now to the new grand total\n\t\t\t/*setSummary(prev => ({\n\t\t\t\t...prev,\n\t\t\t\tgrand_total: responseData.order_grand_total,\n\t\t\t\tsurcharge: responseData.new_surcharge,\n\t\t\t\torder_payable_now: responseData.order_payable_now,\n\n\t\t\t}));*/\n\t\t\tsetSummary(responseData.summary);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Error applying gift certificate\", err);\n\t\t}\n\t};\n\n// New function to submit an order when the gift certificate covers the full balance.\n\tconst submitOrderNoPayment = async () => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconsole.log('Submit Order With Gift Certificate...');\n\t\t\tconst response = await fetch(\"/wp-json/bookitfast/v1/process-payment\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tgiftCertificateApplied: true,\n\t\t\t\t\tgiftCertificate: gcResult,\n\t\t\t\t\tsummary: summary,\n\t\t\t\t\tpropertyIds: Object.keys(selectionData).filter(id => selectionData[id]),\n\t\t\t\t\tuserDetails: userDetails,\n\t\t\t\t\tamount: 0 // no additional payment required\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconst result = await response.json();\n\t\t\tif (result.success) {\n\t\t\t\tconsole.log(\"Payment successful:\", result);\n\t\t\t//\tsetReceiptUrl(result.data.charge);\n\t\t\t\tsetPaymentSuccess(true);\n\t\t\t} else {\n\t\t\t\tsetError(result.message || \"Order submission failed.\");\n\t\t\t}\n\n\n\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Order submission error:\", err);\n\t\t\tsetError(err.message);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n// Render gift certificate redemption section\n\tconst renderGiftCertificateSection = () => {\n\t\tif (!showRedeemGiftCertificate || !summary) return null;\n\t\treturn (\n\t\t\t<div id=\"bookitfast_gift_certificates\">\n\t\t\t\t<button className=\"btn btn-success\" onClick={(e) => { e.preventDefault(); triggerShowGiftCertificate(); }}>\n\t\t\t\t\tApply Gift Certificate\n\t\t\t\t</button>\n\t\t\t\t{showGiftCertificateForm && (\n\t\t\t\t\t<div className=\"bookitfast-container\">\n\n\t\t\t\t\t\t<form id=\"bookitfast_enter_gift_certificate\" className=\"bookitfast-certificate-form\">\n\t\t\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t\t\t<label>Certificate Number:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={giftCertificate.number}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setGiftCertificate({ ...giftCertificate, number: e.target.value })}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t\t\t<label>Pin:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={giftCertificate.pin}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setGiftCertificate({ ...giftCertificate, pin: e.target.value })}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-row\">\n\t\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={applyGiftCertificate}>\n\t\t\t\t\t\t\t\t\tApply\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t{gcResult && gcResult.valid && gcResult.amount_remaining > 0 && (\n\t\t\t\t\t\t\t<div className=\"alert alert-success form-row\">\n\t\t\t\t\t\t\t\t<p>Successfully Applied Gift Certificate</p>\n\t\t\t\t\t\t\t\t<p>An amount of ${gcResult.gc_amount_applied} has been applied to your order</p>\n\t\t\t\t\t\t\t\t<p>Your Gift Certifcate will have a balance of ${gcResult.gc_balance_after_order} after the order is placed.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\tconst renderDiscountCode = () => {\n\t\treturn (\n\t\t\t<div className=\"bookitfast-container bif-mt-2 discount-code-container\">\n\t\t\t\t<div className=\"discount-code-row\">\n\t\t\t\t\t<label htmlFor=\"discountCode\" className=\"discount-label\">Discount Code:</label>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid=\"discountCode\"\n\t\t\t\t\t\t\tvalue={discountCode}\n\t\t\t\t\t\t\tonChange={(e) => setDiscountCode(e.target.value)}\n\t\t\t\t\t\t\tclassName=\"discount-input\"\n\t\t\t\t\t\t\tplaceholder=\"Enter discount code\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-primary apply-discount-btn\"\n\t\t\t\t\t\t\tonClick={() => fetchSummary(selectionData, discountCode)}\n\t\t\t\t\t\t\tdisabled={!discountCode}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tApply Discount\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{discountMessage && (\n\t\t\t\t\t<p className={`discount-message ${discountMessage.success ? \"success\" : \"error\"}`}>\n\t\t\t\t\t\t{discountMessage.message}\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderAvailabilityTable = () => {\n\t\tif (!availability || Object.keys(availability).length === 0) {\n\t\t\treturn <p>No availability data found.</p>;\n\t\t}\n\n\t\treturn Object.entries(availability).map(([propertyId, propertyData]) => {\n\t\t\tconst { property_name, availability: propertyAvailability } = propertyData;\n\n\t\t\treturn (\n\t\t\t\t<div key={propertyId} className=\"bookitfast_availability_grid_div\">\n\t\t\t\t\t<h3>{property_name}</h3>\n\t\t\t\t\t<div className={'availability_button alignright'}>\n\t\t\t\t\t\t{propertyAvailability.available ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`btn ${selectionData[propertyId] ? 'btn-success' : 'btn-primary'}`}\n\t\t\t\t\t\t\t\tonClick={() => toggleSelection(propertyId)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{selectionData[propertyId] ? 'Selected' : 'Click to Select'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" disabled>\n\t\t\t\t\t\t\t\tNot Available\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<table className=\"availability_table\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th className=\"availability_table_header\">Date</th>\n\t\t\t\t\t\t\t<th className=\"availability_table_header\">Status</th>\n\t\t\t\t\t\t\t<th className=\"availability_table_header\">Price</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{propertyAvailability.dates.map((date, index) => (\n\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName={`bookitfast_day_row ${date.availability ? 'cell_date_available' : 'cell_date_unavailable'}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<td className=\"bookitfast_day\">{date.date_formatted}</td>\n\t\t\t\t\t\t\t\t<td className=\"bookitfast_availability_cell\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t{date.availability_reason === 'Min Nights' && `Min Nights ${date.min_nights}`}\n\t\t\t\t\t\t\t\t\t\t{date.availability_reason === 'Booked Out' && 'Booked Out'}\n\t\t\t\t\t\t\t\t\t\t{date.availability_reason === 'No Tariff Set' && 'Rates Not Available'}\n\t\t\t\t\t\t\t\t\t\t{date.availability_reason === 'Available' && 'Available'}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div className=\"avail_rate\">\n\t\t\t\t\t\t\t\t\t\t{date.rate ? `$${date.rate}` : '-'}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t{propertyData.optional_extras?.length > 0 && selectionData[propertyId] && (\n\t\t\t\t\t\t<div className=\"optional_extras\">\n\t\t\t\t\t\t\t<h4 >Optional Extras</h4>\n\t\t\t\t\t\t\t{propertyData.optional_extras.map((optionalExtra) => (\n\t\t\t\t\t\t\t\t<div key={optionalExtra.id} className=\"property_summary_detail_row property_summary_item_body_section bookitfast_optional_extra\">\n\t\t\t\t\t\t\t\t\t<div><input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tchecked={selectedOptionalExtras[propertyId]?.[optionalExtra.id] || false}\n\t\t\t\t\t\t\t\t\t\tonChange={() => toggleOptionalExtra(propertyId, optionalExtra.id)}\n\t\t\t\t\t\t\t\t\t/><label>{optionalExtra.description}</label></div>\n\t\t\t\t\t\t\t\t\t<div>${optionalExtra.amount}</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t};\n\n\tconst renderTermsCheckbox = () => {\n\t\tif (!summary || !summary.order_booking_conditions || summary.order_booking_conditions.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst conditions = summary.order_booking_conditions.map(condition => condition.title);\n\t\tconst formattedConditions = conditions.length > 1\n\t\t\t? conditions.slice(0, -1).join(\", \") + \" and \" + conditions[conditions.length - 1]\n\t\t\t: conditions[0];\n\n\t\treturn (\n\t\t\t<div className=\"terms-checkbox bookitfast-text\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tid=\"agreeToTerms\"\n\t\t\t\t\tchecked={agreeToTerms}\n\t\t\t\t\tonChange={() => setAgreeToTerms(!agreeToTerms)}\n\t\t\t\t/>\n\t\t\t\t<label htmlFor=\"agreeToTerms\">\n\t\t\t\t\tI have read and agree to the{\" \"}\n\t\t\t\t\t{summary.order_booking_conditions.map((condition, index) => (\n\t\t\t\t\t\t<span key={index}>\n\t\t\t\t\t\t\t<a href={condition.url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t{condition.title}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{index < summary.order_booking_conditions.length - 2 ? \", \" : \"\"}\n\t\t\t\t\t\t\t{index === summary.order_booking_conditions.length - 2 ? \" and \" : \"\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</label>\n\t\t\t\t{formErrors.agreeToTerms && <p className=\"error-text\">{formErrors.agreeToTerms}</p>}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderCustomerForm = () => {\n\t\treturn (\n\t\t\t<div className=\"user-details-form\">\n\t\t\t\t<h3>Your Details</h3>\n\t\t\t\t<form>\n\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t<label htmlFor=\"firstName\">First Name:</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tvalue={userDetails.firstName}\n\t\t\t\t\t\t\tonChange={(e) => setUserDetails({ ...userDetails, firstName: e.target.value })}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</div>{formErrors.firstName && <div className=\"alert alert-danger\">{formErrors.firstName}</div>}\n\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t<label htmlFor=\"lastName\">Last Name:</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tvalue={userDetails.lastName}\n\t\t\t\t\t\t\tonChange={(e) => setUserDetails({ ...userDetails, lastName: e.target.value })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{formErrors.lastName && <div className=\"alert alert-danger\">{formErrors.lastName}</div>}\n\n\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t<label htmlFor=\"phone\">Phone:</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tvalue={userDetails.phone}\n\t\t\t\t\t\t\tonChange={(e) => setUserDetails({ ...userDetails, phone: e.target.value })}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</div>{formErrors.phone && <div className=\"alert alert-danger\">{formErrors.phone}</div>}\n\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t<label htmlFor=\"email\">Email:</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tvalue={userDetails.email}\n\t\t\t\t\t\t\tonChange={(e) => setUserDetails({ ...userDetails, email: e.target.value })}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</div>{formErrors.email && <div className=\"alert alert-danger\">{formErrors.email}</div>}\n\t\t\t\t\t{showPostcode && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"postcode\">Postcode:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"postcode\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tvalue={userDetails.postcode}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setUserDetails({ ...userDetails, postcode: e.target.value })}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t</div>{formErrors.postcode && <div className=\"alert alert-danger\">{formErrors.postcode}</div>}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t)}\n\t\t\t\t\t{showSuburb && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"suburb\">Suburb:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"suburb\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tvalue={userDetails.suburb}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setUserDetails({ ...userDetails, suburb: e.target.value })}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t</div>{formErrors.suburb && <div className=\"alert alert-danger\">{formErrors.suburb}</div>}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t)}\n\t\t\t\t\t{showComments && (\n\t\t\t\t\t\t<div className=\"form-group form-row\">\n\t\t\t\t\t\t\t<label htmlFor=\"comments\">Comments:</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tid=\"comments\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tvalue={userDetails.comments}\n\t\t\t\t\t\t\t\tonChange={(e) => setUserDetails({ ...userDetails, comments: e.target.value })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderBookingSummary = () => {\n\t\tif (!summary || !summary.property_summaries) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"bookitfast-container\">\n\t\t\t\t<h3 className=\"aligncenter centered\">Property Booking Summary</h3>\n\t\t\t\t{Object.entries(summary.property_summaries).map(([propertyId, property]) => (\n\t\t\t\t\t<div key={propertyId} className=\"property_summary_item\">\n\t\t\t\t\t\t<h4 className=\"property_summary_item_title\">{property.name}</h4>\n\t\t\t\t\t\t<div className=\"property_summary_item_body\">\n\t\t\t\t\t\t\t<div className=\"property_summary_detail_row property_summary_item_body_section\">\n\t\t\t\t\t\t\t\t<div>Subtotal:</div>\n\t\t\t\t\t\t\t\t<div>${property.sub_total}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{property.mandatory_extras?.length > 0 && (\n\t\t\t\t\t\t\t\t<div className=\"bookitfast_extras\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"property_summary_sub_heading property_summary_item_body_section\">Mandatory Extras Included</h4>\n\t\t\t\t\t\t\t\t\t{property.mandatory_extras.map((extra) => (\n\t\t\t\t\t\t\t\t\t\t<div key={extra.id} className=\"property_summary_detail_row property_summary_item_body_section\">\n\t\t\t\t\t\t\t\t\t\t\t<div>{extra.description}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>${extra.amount}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{property.optional_extras?.length > 0 && (\n\t\t\t\t\t\t\t\t<div className=\"optional_extras\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"property_summary_sub_heading property_summary_item_body_section\">Optional Extras Included</h4>\n\t\t\t\t\t\t\t\t\t{property.optional_extras.map((optionalExtra) => (\n\t\t\t\t\t\t\t\t\t\t<div key={optionalExtra.id} className=\"property_summary_detail_row property_summary_item_body_section\">\n\t\t\t\t\t\t\t\t\t\t\t<div>{optionalExtra.description}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>${optionalExtra.amount}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{(property.last_minute_discount > 0 || property.discount_code_rate_applies) && (\n\t\t\t\t\t\t\t\t<div className=\"discounts\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"property_summary_sub_heading property_summary_item_body_section\">Discounts</h4>\n\t\t\t\t\t\t\t\t\t{property.last_minute_discount > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"property_summary_detail_row property_summary_item_body_section\">\n\t\t\t\t\t\t\t\t\t\t\t<div>Last Minute Discount</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>-${property.last_minute_discount}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{property.discount_code_rate_applies && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"property_summary_detail_row property_summary_item_body_section\">\n\t\t\t\t\t\t\t\t\t\t\t<div>Discount Code</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>-${property.discount_code_discount}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className=\"property_summary_detail_row bookitfast_total_cost property_summary_item_body_section\">\n\t\t\t\t\t\t\t\t<div>Total Cost</div>\n\t\t\t\t\t\t\t\t<div>${property.grand_total}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"bookitfast-container\">\n\t\t\t\t<div className=\"form-inline\" id=\"bookitfastbooking\">\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>Check-In Date:</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tvalue={form.date}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tconst newDate = e.target.value;\n\t\t\t\t\t\t\t\tconsole.log(\"New selected date:\", newDate);\n\t\t\t\t\t\t\t\tsetForm({ ...form, date: newDate });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>Number of Nights:</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tvalue={form.nights}\n\t\t\t\t\t\t\tonChange={(e) => setForm({ ...form, nights: parseInt(e.target.value) })}\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{[...Array(14).keys()].map((n) => (\n\t\t\t\t\t\t\t\t<option key={n} value={n + 1}>\n\t\t\t\t\t\t\t\t\t{n + 1} night{n + 1 > 1 ? 's' : ''}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group bif-availability-button-container\">\n\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={fetchAvailability} disabled={!form.date || loading}>\n\t\t\t\t\t\t\t{loading ? 'Checking...' : 'Check Availability'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{error && <p className=\"alert alert-danger\">{error}</p>}\n\t\t\t</div>\n\t\t\t{availability && renderAvailabilityTable()}\n\t\t\t{summary && renderDiscountCode()}\n\t\t\t{summary && renderGiftCertificateSection()}\n\t\t\t{summary && renderBookingSummary()}\n\t\t\t{summary && renderCustomerForm()}\n\t\t\t{summary && renderTermsCheckbox()}\n\t\t\t{/* Payment Options Section */}\n\t\t\t{summary && !showPaymentForm && (\n\t\t\t\t<div className=\"payment-options\">\n\t\t\t\t\t{Object.keys(formErrors).length > 0 && (\n\t\t\t\t\t\t<div className=\"alert alert-danger\">\n\t\t\t\t\t\t\tPlease rectify the highlighted errors before proceeding with payment.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* If a valid gift certificate has been applied, show its payment options */}\n\t\t\t\t\t{gcResult && gcResult.valid ? (\n\t\t\t\t\t\t<div className=\"gift-certificate-payment-option\">\n\t\t\t\t\t\t\t{summary.order_payable_now === 0 ? (\n\t\t\t\t\t\t\t\t<button className=\"btn btn-success btn-rounded\" onClick={submitOrderNoPayment}>\n\t\t\t\t\t\t\t\t\tPay in full with Gift Certificate\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<button className=\"btn btn-success btn-rounded\" onClick={() => handlePaymentOption(\"gift\")}>\n\t\t\t\t\t\t\t\t\tApply Gift Certificate and Pay ${summary.order_payable_now}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{/* Fallback options if no gift certificate is applied */}\n\t\t\t\t\t{(!gcResult || !gcResult.valid) && (\n\t\t\t\t\t\tsummary.order_deposit_amount > 0 ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary mr-6\" onClick={() => handlePaymentOption(\"deposit\")}>\n\t\t\t\t\t\t\t\t\tPay Deposit (${summary.order_deposit_amount})\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={() => handlePaymentOption(\"full\")}>\n\t\t\t\t\t\t\t\t\tPay In Full (${summary.order_payable_now})\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={() => handlePaymentOption(\"full\")}>\n\t\t\t\t\t\t\t\tPay Now (${summary.order_payable_now})\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t\t{summary.order_surcharge > 0 && (\n\t\t\t\t\t\t<div className=\"surcharge-info\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tPlease note a credit card surcharge applies of\n\t\t\t\t\t\t\t\t{summary.order_deposit_surcharge > 0 ? (\n\t\t\t\t\t\t\t\t\t<> ${summary.order_deposit_surcharge} for deposit or </>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t${summary.order_surcharge} for the full payment.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{stripePromise && summary && showPaymentForm && (\n\t\t\t\t<div className=\"bookitfast-container\">\n\t\t\t\t\t<Elements stripe={stripePromise}>\n\t\t\t\t\t\t<PaymentForm\n\t\t\t\t\t\t\tsummary={summary}\n\t\t\t\t\t\t\tpropertyIds={Object.keys(selectionData).filter(id => selectionData[id])}\n\t\t\t\t\t\t\tuserDetails={userDetails}\n\t\t\t\t\t\t\tpaymentType={selectedPaymentOption}\n\t\t\t\t\t\t\tgiftCertificate={selectedPaymentOption === \"gift\" ? gcResult : null}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Elements>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\n\nconst PaymentForm = ({ summary, propertyIds, userDetails, paymentType, giftCertificate }) => {\n\tconst stripe = useStripe();\n\tconst elements = useElements();\n\tconst [loading, setLoading] = useState(false);\n\tconst [error, setError] = useState(\"\");\n\tconst [paymentSuccess, setPaymentSuccess] = useState(false);\n\tconst [receiptUrl, setReceiptUrl] = useState(\"\");\n\n\tconst handleSubmitPayment = async (event) => {\n\t\tevent.preventDefault();\n\n\t\tif (!stripe || !elements) {\n\t\t\tconsole.error(\"Stripe.js has not loaded yet.\");\n\t\t\treturn;\n\t\t}\n\n\t\tsetLoading(true);\n\t\tsetError(\"\");\n\n\t\tconst cardElement = elements.getElement(CardElement);\n\t\ttry {\n\t\t\tconst { paymentMethod, error } = await stripe.createPaymentMethod({\n\t\t\t\ttype: \"card\",\n\t\t\t\tcard: cardElement,\n\t\t\t});\n\n\t\t\tif (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tsetError(error.message);\n\t\t\t\tsetLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Determine the amount based on the payment type.\n\t\t\tconst amount = paymentType === \"deposit\" ? summary.order_deposit_amount : summary.order_payable_now;\n\n\n\t\t\t// Build the payload.\n\t\t\tconst payload = {\n\t\t\t\tstripePaymentMethodId: paymentMethod.id,\n\t\t\t\tamount: amount,\n\t\t\t\tcurrency: \"AUD\",\n\t\t\t\tsummary: summary,\n\t\t\t\tpropertyIds: propertyIds,\n\t\t\t\tuserDetails: userDetails,\n\t\t\t\tpaymentType: paymentType,\n\t\t\t};\n\t\t\tif (paymentType === \"deposit\") {\n\t\t\t\tpayload.depositPaid = true;\n\t\t\t\tpayload.depositAmount = summary.order_deposit_amount;\n\t\t\t}\n\t\t\t// If paying with a gift certificate (partial payment), include its details.\n\t\t\tif (paymentType === \"gift\" && giftCertificate) {\n\t\t\t\tpayload.giftCertificateApplied = true;\n\t\t\t\tpayload.giftCertificate = giftCertificate;\n\t\t\t}\n\n\t\t\tconst response = await fetch(\"/wp-json/bookitfast/v1/process-payment\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(payload),\n\t\t\t});\n\n\t\t\tconst result = await response.json();\n\t\t\tif (result.success) {\n\t\t\t\tconsole.log(\"Payment successful:\", result);\n\t\t\t\tsetReceiptUrl(result.data.charge);\n\t\t\t\tsetPaymentSuccess(true);\n\t\t\t} else {\n\t\t\t\tthrow new Error(result.message || \"Payment failed.\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Payment error:\", err);\n\t\t\tsetError(err.message);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"payment-container\">\n\t\t\t<h3>Payment Details</h3>\n\t\t\t{error && <p className=\"alert alert-danger\">{error}</p>}\n\t\t\t{paymentSuccess ? (\n\t\t\t\t<div className=\"alert alert-success\">\n\t\t\t\t\t<p><strong>Payment Successful!</strong></p>\n\t\t\t\t\t{receiptUrl && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a href={receiptUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\tClick here to view your receipt.\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<form onSubmit={handleSubmitPayment}>\n\t\t\t\t\t<CardElement\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\thidePostalCode: true,\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\tbase: {\n\t\t\t\t\t\t\t\t\tfontSize: \"16px\",\n\t\t\t\t\t\t\t\t\tcolor: \"#424770\",\n\t\t\t\t\t\t\t\t\t\"::placeholder\": {\n\t\t\t\t\t\t\t\t\t\tcolor: \"#aab7c4\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tinvalid: {\n\t\t\t\t\t\t\t\t\tcolor: \"#9e2146\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<button type=\"submit\" disabled={!stripe || loading} className=\"btn btn-primary\">\n\t\t\t\t\t\t{loading ? \"Processing...\" : \"Pay Now\"}\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default MultiEmbedForm;\n","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { render } from '@wordpress/element';\nimport MultiEmbedForm from './components/MultiEmbedForm.js';\n\n// Extract attributes from the container's dataset\nconst container = document.getElementById('book-it-fast-multi-embed');\nconst propertyIds = container?.dataset?.propertyIds || '';\nconst showDiscount = container?.dataset?.showDiscount === 'true';\nconst showSuburb = container?.dataset?.showSuburb === 'true';\nconst showPostcode = container?.dataset?.showPostcode === 'true';\nconst showRedeemGiftCertificate = container?.dataset?.showRedeemGiftCertificate === 'true';\nconst showComments = container?.dataset?.showComments === 'true';\n\nif (container) {\n\trender(\n\t\t<MultiEmbedForm\n\t\t\tpropertyIds={propertyIds}\n\t\t\tshowDiscount={showDiscount}\n\t\t\tshowSuburb={showSuburb}\n\t\t\tshowPostcode={showPostcode}\n\t\t\tshowRedeemGiftCertificate={showRedeemGiftCertificate}\n\t\t\tshowComments={showComments}\n\t\t/>,\n\t\tcontainer\n\t);\n}\n"],"names":["useState","useEffect","loadStripe","Elements","CardElement","useStripe","useElements","stripePromiseGlobal","getQueryParam","param","urlParams","URLSearchParams","window","location","search","get","parseDateFromUrl","dateString","dateParts","split","length","day","month","year","map","Number","isNaN","parsedDate","Date","setHours","toISOString","MultiEmbedForm","propertyIds","showDiscount","showSuburb","showPostcode","showRedeemGiftCertificate","showComments","nightsFromUrl","validatedNights","parseInt","startDateFromUrl","discountCodeFromUrl","validatedStartDate","form","setForm","date","nights","availability","setAvailability","selectionData","setSelectionData","stripePromise","setStripePromise","summary","setSummary","loading","setLoading","error","setError","userDetails","setUserDetails","firstName","lastName","phone","email","postcode","suburb","comments","agreeToTerms","setAgreeToTerms","discountCode","setDiscountCode","discountMessage","setDiscountMessage","applyingDiscount","setApplyingDiscount","paymentSuccess","setPaymentSuccess","showPaymentForm","setShowPaymentForm","selectedPaymentOption","setSelectedPaymentOption","formErrors","setFormErrors","giftCertificate","setGiftCertificate","number","pin","showGiftCertificateForm","setShowGiftCertificateForm","gcResult","setGcResult","selectedOptionalExtras","setSelectedOptionalExtras","console","log","fetchAvailability","startDate","warn","formattedStartDate","ids","filter","id","trim","start","response","fetch","method","headers","body","JSON","stringify","data","json","initialSelection","Object","keys","reduce","acc","propertyId","err","toggleSelection","updatedSelection","values","includes","fetchSummary","toggleOptionalExtra","extraId","prev","propertyExtras","newSelectedOptionalExtras","updatedOptionalExtras","retryCount","end","getTime","selected","selected_optional_extras","discount_code","ok","Error","status","stripe_publishable_key","applyDiscountCode","property_ids","success","message","validateCustomerDetails","errors","handlePaymentOption","option","scrollTo","document","scrollHeight","triggerShowGiftCertificate","applyGiftCertificate","e","preventDefault","certificate","responseData","submitOrderNoPayment","giftCertificateApplied","amount","result","renderGiftCertificateSection","React","createElement","className","onClick","type","value","onChange","target","valid","amount_remaining","gc_amount_applied","gc_balance_after_order","renderDiscountCode","htmlFor","placeholder","disabled","renderAvailabilityTable","entries","propertyData","property_name","propertyAvailability","key","available","dates","index","date_formatted","availability_reason","min_nights","rate","optional_extras","optionalExtra","checked","description","renderTermsCheckbox","order_booking_conditions","conditions","condition","title","formattedConditions","slice","join","href","url","rel","renderCustomerForm","renderBookingSummary","property_summaries","property","name","sub_total","mandatory_extras","extra","last_minute_discount","discount_code_rate_applies","discount_code_discount","grand_total","newDate","Array","n","order_payable_now","order_deposit_amount","order_surcharge","order_deposit_surcharge","Fragment","stripe","PaymentForm","paymentType","elements","receiptUrl","setReceiptUrl","handleSubmitPayment","event","cardElement","getElement","paymentMethod","createPaymentMethod","card","payload","stripePaymentMethodId","currency","depositPaid","depositAmount","charge","onSubmit","options","hidePostalCode","style","base","fontSize","color","invalid","render","container","getElementById","dataset"],"sourceRoot":""}