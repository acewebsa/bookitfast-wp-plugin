(()=>{var e={609:e=>{"use strict";e.exports=window.React},926:function(e,t,a){!function(e,t){"use strict";function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var r,n,i=[],_n=!0,o=!1;try{for(a=a.call(e);!(_n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);_n=!0);}catch(e){o=!0,n=e}finally{try{_n||null==a.return||a.return()}finally{if(o)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u,m,d,p,f={exports:{}};f.exports=function(){if(p)return d;p=1;var e=m?u:(m=1,u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function a(){}return a.resetWarningCache=t,d=function(){function r(t,a,r,n,i,o){if(o!==e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return r}r.isRequired=r;var i={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:a,resetWarningCache:t};return i.PropTypes=i,i}}()();var b=s(f.exports),h=function(e,a,r){var n=!!r,i=t.useRef(r);t.useEffect((function(){i.current=r}),[r]),t.useEffect((function(){if(!n||!e)return function(){};var t=function(){i.current&&i.current.apply(i,arguments)};return e.on(a,t),function(){e.off(a,t)}}),[n,a,e,i])},y=function(e){var a=t.useRef(e);return t.useEffect((function(){a.current=e}),[e]),a.current},g=function(e){return null!==e&&"object"===n(e)},v="[object Object]",E=function e(t,a){if(!g(t)||!g(a))return t===a;var r=Array.isArray(t);if(r!==Array.isArray(a))return!1;var n=Object.prototype.toString.call(t)===v;if(n!==(Object.prototype.toString.call(a)===v))return!1;if(!n&&!r)return t===a;var i=Object.keys(t),o=Object.keys(a);if(i.length!==o.length)return!1;for(var c={},l=0;l<i.length;l+=1)c[i[l]]=!0;for(var s=0;s<o.length;s+=1)c[o[s]]=!0;var u=Object.keys(c);if(u.length!==i.length)return!1;var m=t,d=a;return u.every((function(t){return e(m[t],d[t])}))},R=function(e,t,a){return g(e)?Object.keys(e).reduce((function(n,o){var c=!g(t)||!E(e[o],t[o]);return a.includes(o)?(c&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),n):c?r(r({},n||{}),{},i({},o,e[o])):n}),null):null},C="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",N=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(null===e||g(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(a)},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(function(e){return g(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return N(e,t)}))};var a=N(e,t);return null===a?{tag:"empty"}:{tag:"sync",stripe:a}},w=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},S=t.createContext(null);S.displayName="ElementsContext";var _=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},P=function(e){var a=e.stripe,r=e.options,n=e.children,i=t.useMemo((function(){return k(a)}),[a]),o=c(t.useState((function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(r):null}})),2),l=o[0],s=o[1];t.useEffect((function(){var e=!0,t=function(e){s((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==i.tag||l.stripe?"sync"!==i.tag||l.stripe||t(i.stripe):i.stripePromise.then((function(a){a&&e&&t(a)})),function(){e=!1}}),[i,l,r]);var u=y(a);t.useEffect((function(){null!==u&&u!==a&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[u,a]);var m=y(r);return t.useEffect((function(){if(l.elements){var e=R(r,m,["clientSecret","fonts"]);e&&l.elements.update(e)}}),[r,m,l.elements]),t.useEffect((function(){w(l.stripe)}),[l.stripe]),t.createElement(S.Provider,{value:l},n)};P.propTypes={stripe:b.any,options:b.object};var x=function(e){var a=t.useContext(S);return _(a,e)},O=function(e){return(0,e.children)(x("mounts <ElementsConsumer>"))};O.propTypes={children:b.func.isRequired};var j=["on","session"],T=t.createContext(null);T.displayName="CheckoutSdkContext";var F=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},A=t.createContext(null);A.displayName="CheckoutContext";var D=function(e){var a=e.stripe,r=e.options,n=e.children,i=t.useMemo((function(){return k(a,"Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[a]),l=c(t.useState(null),2),s=l[0],u=l[1],m=c(t.useState((function(){return{stripe:"sync"===i.tag?i.stripe:null,checkoutSdk:null}})),2),d=m[0],p=m[1],f=function(e,t){p((function(a){return a.stripe&&a.checkoutSdk?a:{stripe:e,checkoutSdk:t}}))},b=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==i.tag||d.stripe?"sync"===i.tag&&i.stripe&&!b.current&&(b.current=!0,i.stripe.initCheckout(r).then((function(e){e&&(f(i.stripe,e),e.on("change",u))}))):i.stripePromise.then((function(t){t&&e&&!b.current&&(b.current=!0,t.initCheckout(r).then((function(e){e&&(f(t,e),e.on("change",u))})))})),function(){e=!1}}),[i,d,r,u]);var h=y(a);t.useEffect((function(){null!==h&&h!==a&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,a]);var g=y(r);t.useEffect((function(){var e,t;if(d.checkoutSdk){var a=null==g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,n=null==r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;n&&!E(n,a)&&d.checkoutSdk.changeAppearance(n)}}),[r,g,d.checkoutSdk]),t.useEffect((function(){w(d.stripe)}),[d.stripe]);var v=t.useMemo((function(){return function(e,t){if(!e)return null;e.on,e.session;var a=o(e,j);return t?Object.assign(t,a):Object.assign(e.session(),a)}(d.checkoutSdk,s)}),[d.checkoutSdk,s]);return d.checkoutSdk?t.createElement(T.Provider,{value:d},t.createElement(A.Provider,{value:v},n)):null};D.propTypes={stripe:b.any,options:b.shape({fetchClientSecret:b.func.isRequired,elementsOptions:b.object}).isRequired};var I=function(e){var a=t.useContext(T),r=t.useContext(S);if(a&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return a?F(a,e):_(r,e)},G=["mode"],$=function(e,a){var r,n="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),i=a?function(e){I("mounts <".concat(n,">"));var a=e.id,r=e.className;return t.createElement("div",{id:a,className:r})}:function(a){var r,i=a.id,l=a.className,s=a.options,u=void 0===s?{}:s,m=a.onBlur,d=a.onFocus,p=a.onReady,f=a.onChange,b=a.onEscape,g=a.onClick,v=a.onLoadError,E=a.onLoaderStart,C=a.onNetworksChange,N=a.onConfirm,k=a.onCancel,w=a.onShippingAddressChange,S=a.onShippingRateChange,_=I("mounts <".concat(n,">")),P="elements"in _?_.elements:null,x="checkoutSdk"in _?_.checkoutSdk:null,O=c(t.useState(null),2),j=O[0],T=O[1],F=t.useRef(null),A=t.useRef(null);h(j,"blur",m),h(j,"focus",d),h(j,"escape",b),h(j,"click",g),h(j,"loaderror",v),h(j,"loaderstart",E),h(j,"networkschange",C),h(j,"confirm",N),h(j,"cancel",k),h(j,"shippingaddresschange",w),h(j,"shippingratechange",S),h(j,"change",f),p&&(r="expressCheckout"===e?p:function(){p(j)}),h(j,"ready",r),t.useLayoutEffect((function(){if(null===F.current&&null!==A.current&&(P||x)){var t=null;if(x)switch(e){case"payment":t=x.createPaymentElement(u);break;case"address":if(!("mode"in u))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var a=u.mode,r=o(u,G);if("shipping"===a)t=x.createShippingAddressElement(r);else{if("billing"!==a)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=x.createBillingAddressElement(r)}break;case"expressCheckout":t=x.createExpressCheckoutElement(u);break;case"currencySelector":t=x.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else P&&(t=P.create(e,u));F.current=t,T(t),t&&t.mount(A.current)}}),[P,x,u]);var D=y(u);return t.useEffect((function(){if(F.current){var e=R(u,D,["paymentRequest"]);e&&"update"in F.current&&F.current.update(e)}}),[u,D]),t.useLayoutEffect((function(){return function(){if(F.current&&"function"==typeof F.current.destroy)try{F.current.destroy(),F.current=null}catch(e){}}}),[]),t.createElement("div",{id:i,className:l,ref:A})};return i.propTypes={id:b.string,className:b.string,onChange:b.func,onBlur:b.func,onFocus:b.func,onReady:b.func,onEscape:b.func,onClick:b.func,onLoadError:b.func,onLoaderStart:b.func,onNetworksChange:b.func,onConfirm:b.func,onCancel:b.func,onShippingAddressChange:b.func,onShippingRateChange:b.func,options:b.object},i.displayName=n,i.__elementType=e,i},B="undefined"==typeof window,L=t.createContext(null);L.displayName="EmbeddedCheckoutProviderContext";var M=function(){var e=t.useContext(L);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},U=B?function(e){var a=e.id,r=e.className;return M(),t.createElement("div",{id:a,className:r})}:function(e){var a=e.id,r=e.className,n=M().embeddedCheckout,i=t.useRef(!1),o=t.useRef(null);return t.useLayoutEffect((function(){return!i.current&&n&&null!==o.current&&(n.mount(o.current),i.current=!0),function(){if(i.current&&n)try{n.unmount(),i.current=!1}catch(e){}}}),[n]),t.createElement("div",{ref:o,id:a,className:r})},Y=$("auBankAccount",B),q=$("card",B),W=$("cardNumber",B),z=$("cardExpiry",B),H=$("cardCvc",B),J=$("fpxBank",B),V=$("iban",B),K=$("idealBank",B),Q=$("p24Bank",B),X=$("epsBank",B),Z=$("payment",B),ee=$("expressCheckout",B),te=$("currencySelector",B),ae=$("paymentRequestButton",B),re=$("linkAuthentication",B),ne=$("address",B),ie=$("shippingAddress",B),oe=$("paymentMethodMessaging",B),ce=$("affirmMessage",B),le=$("afterpayClearpayMessage",B);e.AddressElement=ne,e.AffirmMessageElement=ce,e.AfterpayClearpayMessageElement=le,e.AuBankAccountElement=Y,e.CardCvcElement=H,e.CardElement=q,e.CardExpiryElement=z,e.CardNumberElement=W,e.CheckoutProvider=D,e.CurrencySelectorElement=te,e.Elements=P,e.ElementsConsumer=O,e.EmbeddedCheckout=U,e.EmbeddedCheckoutProvider=function(e){var a=e.stripe,r=e.options,n=e.children,i=t.useMemo((function(){return k(a,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[a]),o=t.useRef(null),l=t.useRef(null),s=c(t.useState({embeddedCheckout:null}),2),u=s[0],m=s[1];t.useEffect((function(){if(!l.current&&!o.current){var e=function(e){l.current||o.current||(l.current=e,o.current=l.current.initEmbeddedCheckout(r).then((function(e){m({embeddedCheckout:e})})))};"async"!==i.tag||l.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==i.tag||l.current||!r.clientSecret&&!r.fetchClientSecret||e(i.stripe):i.stripePromise.then((function(t){t&&e(t)}))}}),[i,r,u,l]),t.useEffect((function(){return function(){u.embeddedCheckout?(o.current=null,u.embeddedCheckout.destroy()):o.current&&o.current.then((function(){o.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){w(l)}),[l]);var d=y(a);t.useEffect((function(){null!==d&&d!==a&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[d,a]);var p=y(r);return t.useEffect((function(){null!=p&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=p.clientSecret&&r.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.fetchClientSecret&&r.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=p.onComplete&&r.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=p.onShippingDetailsChange&&r.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=p.onLineItemsChange&&r.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[p,r]),t.createElement(L.Provider,{value:u},n)},e.EpsBankElement=X,e.ExpressCheckoutElement=ee,e.FpxBankElement=J,e.IbanElement=V,e.IdealBankElement=K,e.LinkAuthenticationElement=re,e.P24BankElement=Q,e.PaymentElement=Z,e.PaymentMethodMessagingElement=oe,e.PaymentRequestButtonElement=ae,e.ShippingAddressElement=ie,e.useCheckout=function(){!function(e){var a=t.useContext(T);F(a,e)}("calls useCheckout()");var e=t.useContext(A);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},e.useElements=function(){return x("calls useElements()").elements},e.useStripe=function(){return I("calls useStripe()").stripe}}(t,a(609))}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=a(609),t=a.n(e);const r=window.ReactDOM;var n,i=a.n(r),o="https://js.stripe.com",c="".concat(o,"/v3"),l=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,u="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",m=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(c).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(a),a},d=null,p=null,f=null,b=!1,h=function(){return n||(n=(e=null,null!==d?d:(d=new Promise((function(t,a){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(u),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e,t=document.querySelectorAll('script[src^="'.concat(o,'"]')),a=0;a<t.length;a++){var r=t[a];if(e=r.src,l.test(e)||s.test(e))return r}return null}();if(r&&e)console.warn(u);else if(r){if(r&&null!==f&&null!==p){var n;r.removeEventListener("load",f),r.removeEventListener("error",p),null===(n=r.parentNode)||void 0===n||n.removeChild(r),r=m(e)}}else r=m(e);f=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,a),p=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(a),r.addEventListener("load",f),r.addEventListener("error",p)}catch(e){return void a(e)}else t(null)}))).catch((function(e){return d=null,Promise.reject(e)}))).catch((function(e){return n=null,Promise.reject(e)})));var e};Promise.resolve().then((function(){return h()})).catch((function(e){b||console.warn(e)}));var y=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];b=!0;var r=Date.now();return h().then((function(e){return function(e,t,a){if(null===e)return null;var r=t[0].match(/^pk_test/),n=function(e){return 3===e?"v3":e}(e.version);r&&"v3"!==n&&console.warn("Stripe.js@".concat(n," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat("v3",". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:t})}(i,a),i}(e,t,r)}))},g=a(926);const v=function(){const e=document.querySelector('link[rel="https://api.w.org/"]');return e?e.href.replace(/\/$/,""):(window.wpApiSettings?.restUrl||"/wp-json").replace(/\/$/,"")}(),E=(y("your-publishable-key-here"),e=>new URLSearchParams(window.location.search).get(e)),R=({property:e,isSelected:t,onToggle:a,nights:r,checkInDate:n})=>{const i=e.availability?.total_cost||e.availability?.dates?.reduce(((e,t)=>e+(t.rate||0)),0)||0,o=e.availability?.available,c=(e,t,a)=>{if(e)return"Available";switch(t){case"Booked Out":return"Booked Out";case"No Tariff Set":return"No Rates Set";case"Min Nights":return`Minimum ${a||2} Nights`;default:return"Unavailable"}};return React.createElement("div",{className:`bif-property-card ${t?"bif-selected":""} ${o?"":"bif-unavailable"}`},React.createElement("div",{className:"bif-property-header"},e.image_url&&React.createElement("div",{className:"bif-property-image"},React.createElement("img",{src:e.image_url,alt:e.property_name})),React.createElement("div",{className:"bif-property-info"},React.createElement("h3",{className:"bif-property-name"},e.property_name),e.property_description&&React.createElement("p",{className:"bif-property-description"},e.property_description)),React.createElement("div",{className:"bif-property-status-container"},React.createElement("span",{className:`bif-property-status ${((e,t)=>{if(e)return"bif-status-available";switch(t){case"Booked Out":return"bif-status-booked";case"No Tariff Set":return"bif-status-no-rate";case"Min Nights":return"bif-status-min-nights";default:return"bif-status-unavailable"}})(o,e.availability?.availability_reason)}`},c(o,e.availability?.availability_reason,e.availability?.min_nights)))),e.availability?.dates&&React.createElement("div",{className:"bif-availability-details"},React.createElement("h4",{className:"bif-daily-breakdown-title"},"Daily Rate Breakdown"),React.createElement("div",{className:"bif-daily-rates"},e.availability.dates.map(((e,t)=>React.createElement("div",{key:t,className:"bif-daily-rate "+(e.availability?"bif-available":"bif-unavailable")},React.createElement("div",{className:"bif-date"},e.date_formatted),React.createElement("div",{className:"bif-rate"},e.availability?`$${e.rate}`:"Booked Out"===e.availability_reason?"Booked":"No Tariff Set"===e.availability_reason?"No Rate":"N/A"))))),React.createElement("div",{className:"bif-rate-summary"},React.createElement("div",{className:"bif-summary-row"},React.createElement("span",null,r," ",1===r?"night":"nights"),React.createElement("span",{className:"bif-total"},"Total: $",i)))),React.createElement("div",{className:"bif-property-actions"},o?React.createElement("button",{onClick:a,className:"bif-btn "+(t?"bif-btn-selected":"bif-btn-select")},t?"âœ“ Selected":"Select Property"):React.createElement("button",{disabled:!0,className:"bif-btn bif-btn-disabled"},c(o,e.availability?.availability_reason,e.availability?.min_nights))),t&&e.optional_extras?.length>0&&React.createElement("div",{className:"bif-optional-extras"},React.createElement("h4",{className:"bif-daily-breakdown-title"},"Optional Extras"),React.createElement("div",{className:"bif-extras-list"},e.optional_extras.map((t=>React.createElement("div",{key:t.id,className:"bif-extra-item"},React.createElement("div",{className:"bif-extra-info"},React.createElement("input",{type:"checkbox",checked:e.selectedExtras?.[t.id]||!1,onChange:()=>e.onToggleExtra?.(e.id,t.id)}),React.createElement("label",null,t.description)),React.createElement("div",{className:"bif-extra-price"},"$",t.amount)))))))},C=({checkInDate:e,nights:t,onDateChange:a,onNightsChange:r,onCheckAvailability:n,isLoading:i})=>{const o=(new Date).toISOString().split("T")[0];return React.createElement("div",{className:"bif-date-selector"},React.createElement("h2",{className:"bif-section-title"},"Select Your Dates"),React.createElement("div",{className:"bif-date-form"},React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Check-in Date"),React.createElement("input",{type:"date",value:e,onChange:e=>a(e.target.value),min:o,className:"bif-date-input"})),React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Number of Nights"),React.createElement("select",{value:t,onChange:e=>r(parseInt(e.target.value)),className:"bif-nights-select"},[...Array(14).keys()].map((e=>React.createElement("option",{key:e,value:e+1},e+1," ",e+1===1?"night":"nights"))))),React.createElement("div",{className:"bif-form-field"},React.createElement("button",{onClick:n,disabled:!e||i,className:"bif-btn bif-btn-primary bif-check-availability"},i?React.createElement(React.Fragment,null,React.createElement("div",{className:"bif-spinner"}),React.createElement("span",null,"Checking...")):React.createElement("span",null,"Check Availability")))))},N=({selectedProperties:e,selectedExtras:t,nights:a,total:r,discountCode:n,onDiscountCodeChange:i,onApplyDiscount:o,checkInDate:c,summary:l,showRedeemGiftCertificate:s=!1,giftCertificate:u,onGiftCertificateChange:m,showGiftCertificateForm:d,onTriggerShowGiftCertificate:p,onApplyGiftCertificate:f,gcResult:b,gcLoading:h=!1})=>{Object.values(t).flat().reduce(((e,t)=>e+(t.amount||0)),0);const y=l&&parseFloat(l.order_discount_code_total||0)>0;return e&&0!==e.length?React.createElement("div",{className:"bif-booking-summary"},React.createElement("h3",{className:"bif-section-title"},"Booking Summary"),React.createElement("div",{className:"bif-summary-content"},e.map((e=>{const a=e.availability?.total_cost||e.availability?.dates?.reduce(((e,t)=>e+(t.rate||0)),0)||0,r=e.mandatory_extras?.reduce(((e,t)=>e+parseFloat(t.amount||0)),0)||0,n=parseFloat(a)+parseFloat(r);return React.createElement("div",{key:e.id,className:"bif-property-summary"},React.createElement("h5",{className:"bif-property-summary-name"},e.property_name),React.createElement("div",{className:"bif-property-total"},React.createElement("div",{className:"bif-total-row"},React.createElement("span",null,"Property Subtotal"),React.createElement("span",null,"$",parseFloat(a).toFixed(2)))),e.mandatory_extras&&e.mandatory_extras.length>0&&React.createElement("div",{className:"bif-mandatory-extras-summary"},React.createElement("h4",{className:"bif-daily-breakdown-title"},"Mandatory Extras"),e.mandatory_extras.map((e=>React.createElement("div",{key:e.id,className:"bif-total-row",style:{fontSize:"0.875rem",color:"#dc2626"}},React.createElement("span",null,e.description),React.createElement("span",null,"$",parseFloat(e.amount).toFixed(2)))))),React.createElement("div",{className:"bif-property-total"},React.createElement("div",{className:"bif-total-row bif-subtotal"},React.createElement("span",null,"Property Total"),React.createElement("span",null,"$",parseFloat(n).toFixed(2)))),t[e.id]&&t[e.id].length>0&&React.createElement("div",{className:"bif-optional-extras-summary"},React.createElement("h4",{className:"bif-daily-breakdown-title"},"Selected Optional Extras"),t[e.id].map((e=>React.createElement("div",{key:e.id,className:"bif-total-row",style:{fontSize:"0.875rem",color:"#92400e"}},React.createElement("span",null,e.description),React.createElement("span",null,"$",parseFloat(e.amount).toFixed(2)))))))})),React.createElement("div",{className:"bif-summary-section"},React.createElement("div",{className:"bif-discount-form"},React.createElement("input",{type:"text",placeholder:"Enter discount code",value:n,onChange:e=>i(e.target.value),className:"bif-discount-input"}),React.createElement("button",{onClick:()=>{n.trim()&&o(n)},className:"bif-btn bif-btn-secondary"},"Apply")),y&&React.createElement("div",{className:"bif-discount-applied"},"Discount code applied")),s&&l&&React.createElement("div",{className:"bif-summary-section"},React.createElement("div",{className:"bif-gift-certificate-section"},d?React.createElement("div",{className:"bif-gift-certificate-form"},React.createElement("div",{className:"bif-form-row"},React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Certificate Number:"),React.createElement("input",{type:"text",value:u.number,onChange:e=>m({...u,number:e.target.value}),className:"bif-form-control",placeholder:"Enter certificate number",disabled:h})),React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Pin:"),React.createElement("input",{type:"number",value:u.pin,onChange:e=>m({...u,pin:e.target.value}),className:"bif-form-control",placeholder:"Enter pin",disabled:h}))),React.createElement("button",{className:"bif-btn bif-btn-secondary",onClick:f,disabled:h},h?"Applying...":"Apply")):React.createElement("button",{className:"bif-btn bif-btn-secondary",onClick:p},"Apply Gift Certificate"),b&&b.valid&&React.createElement("div",{className:"bif-gift-certificate-success"},React.createElement("p",null,"âœ… Successfully Applied Gift Certificate"),React.createElement("p",null,b.result),parseFloat(b.total)-parseFloat(b.gc_amount_applied)==0?React.createElement("p",null,React.createElement("strong",null,"ðŸŽ‰ Your gift certificate covers the full amount! No additional payment required.")):React.createElement(React.Fragment,null,React.createElement("p",null,"Remaining balance to pay: ",React.createElement("strong",null,"$",(parseFloat(b.total)-parseFloat(b.gc_amount_applied)).toFixed(2))),React.createElement("p",{style:{fontSize:"0.875rem",color:"#6b7280"}},"*Credit card surcharge will be added at payment")),React.createElement("p",null,"Gift Certificate balance after order: ",React.createElement("strong",null,"$",parseFloat(b.gc_balance_after_order).toFixed(2)))))),React.createElement("div",{className:"bif-grand-total"},b&&b.valid&&React.createElement("div",{className:"bif-total-row"},React.createElement("span",null,"Order Total"),React.createElement("span",null,"$",parseFloat(b.total||l.order_grand_total).toFixed(2))),b&&b.valid&&React.createElement("div",{className:"bif-total-row",style:{color:"#059669"}},React.createElement("span",null,"Gift Certificate Applied"),React.createElement("span",null,"-$",parseFloat(b.gc_amount_applied).toFixed(2))),React.createElement("div",{className:"bif-total-main"},React.createElement("span",null,b&&b.valid&&parseFloat(b.total)-parseFloat(b.gc_amount_applied)==0?"Total Paid by Gift Certificate":b&&b.valid?"Balance Due":"Total Cost"),React.createElement("span",{className:"bif-total-amount"},"$",b&&b.valid?(parseFloat(b.total)-parseFloat(b.gc_amount_applied)).toFixed(2):parseFloat(r).toFixed(2))),b&&b.valid&&parseFloat(b.total)-parseFloat(b.gc_amount_applied)>0&&l&&l.order_has_surcharge&&React.createElement("div",{className:"bif-surcharge-note",style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.5rem"}},"*Credit card surcharge will be added at payment"),l&&parseFloat(l.order_discount_code_total||0)>0&&React.createElement("div",{className:"bif-discount-text"},"Includes discount of $",parseFloat(l.order_discount_code_total||0).toFixed(2))))):null},k=({userDetails:e,onUpdateDetails:t,formErrors:a})=>React.createElement("div",{className:"bif-customer-details"},React.createElement("h2",{className:"bif-section-title"},"Your Details"),React.createElement("div",{className:"bif-customer-form"},React.createElement("div",{className:"bif-form-row"},React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"First Name *"),React.createElement("input",{type:"text",value:e.firstName,onChange:e=>t("firstName",e.target.value),placeholder:"Enter your first name",className:a.firstName?"bif-error":""}),a.firstName&&React.createElement("div",{className:"bif-field-error"},a.firstName)),React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Last Name *"),React.createElement("input",{type:"text",value:e.lastName,onChange:e=>t("lastName",e.target.value),placeholder:"Enter your last name",className:a.lastName?"bif-error":""}),a.lastName&&React.createElement("div",{className:"bif-field-error"},a.lastName))),React.createElement("div",{className:"bif-form-row"},React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Email *"),React.createElement("input",{type:"email",value:e.email,onChange:e=>t("email",e.target.value),placeholder:"Enter your email address",className:a.email?"bif-error":""}),a.email&&React.createElement("div",{className:"bif-field-error"},a.email)),React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Phone *"),React.createElement("input",{type:"tel",value:e.phone,onChange:e=>t("phone",e.target.value),placeholder:"Enter your phone number",className:a.phone?"bif-error":""}),a.phone&&React.createElement("div",{className:"bif-field-error"},a.phone))),React.createElement("div",{className:"bif-form-row"},React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Postcode"),React.createElement("input",{type:"text",value:e.postcode,onChange:e=>t("postcode",e.target.value),placeholder:"Enter your postcode"})),React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Suburb"),React.createElement("input",{type:"text",value:e.suburb,onChange:e=>t("suburb",e.target.value),placeholder:"Enter your suburb"}))),React.createElement("div",{className:"bif-form-row bif-full-width"},React.createElement("div",{className:"bif-form-field"},React.createElement("label",null,"Comments"),React.createElement("textarea",{value:e.comments,onChange:e=>t("comments",e.target.value),rows:4,placeholder:"Any special requests or comments..."}))))),w=({summary:t,propertyIds:a,userDetails:r,paymentType:n,giftCertificate:i})=>{const o=(0,g.useStripe)(),c=(0,g.useElements)(),[l,s]=(0,e.useState)(!1),[u,m]=(0,e.useState)(""),[d,p]=(0,e.useState)(!1),[f,b]=(0,e.useState)(""),h=async e=>{e.preventDefault(),s(!0),m("");try{let e={amount:"deposit"===n?t.order_deposit_amount:t.order_payable_now,currency:"AUD",summary:t,propertyIds:"string"==typeof a?a.split(",").map((e=>parseInt(e.trim()))):a,userDetails:r,paymentType:n};if("gift"===n&&i)e.giftCertificateApplied=!0,e.giftCertificate=i,e.amount=0;else{if(!o||!c)return void console.error("Stripe.js has not loaded yet.");const t=c.getElement(g.CardElement),{paymentMethod:a,error:r}=await o.createPaymentMethod({type:"card",card:t});if(r)return console.error(r),m(r.message),void s(!1);e.stripePaymentMethodId=a.id,i&&i.valid&&(e.giftCertificateApplied=!0,e.giftCertificate=i)}const l=await fetch(`${v}/bookitfast/v1/process-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),u=await l.json();if(!u.success)throw new Error(u.message||"Payment failed.");console.log("Payment successful:",u),b(u.data.charge),p(!0)}catch(e){console.error("Payment error:",e),m(e.message)}finally{s(!1)}};return React.createElement("div",{className:"bif-payment-container"},React.createElement("h3",null,"gift"===n?"ðŸŽ Gift Certificate Payment":"ðŸ’³ Payment Details"),u&&React.createElement("div",{className:"bif-error-message"},u),d?React.createElement("div",{className:"bif-success-message"},React.createElement("p",null,React.createElement("strong",null,"âœ… Payment Successful!")),f&&React.createElement("p",null,React.createElement("a",{href:f,target:"_blank",rel:"noopener noreferrer"},"ðŸ“„ Click here to view your receipt"))):"gift"===n?React.createElement("div",{className:"bif-gift-certificate-payment-form"},React.createElement("div",{className:"bif-gift-certificate-summary"},React.createElement("p",null,"ðŸŽ ",React.createElement("strong",null,"Paying with Gift Certificate")),React.createElement("p",null,"Amount: ",React.createElement("strong",null,"$",parseFloat(i.gc_amount_applied||0).toFixed(2))),React.createElement("p",null,"No credit card required - your gift certificate will be charged automatically.")),React.createElement("button",{onClick:h,disabled:l,className:"bif-btn bif-btn-primary bif-btn-large"},l?"Processing...":"Complete Booking")):React.createElement("form",{onSubmit:h,className:"bif-stripe-form"},React.createElement("div",{className:"bif-card-element-container"},React.createElement(g.CardElement,{options:{hidePostalCode:!0,style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})),React.createElement("button",{type:"submit",disabled:!o||l,className:"bif-btn bif-btn-primary bif-btn-large"},l?"Processing...":"Pay Now")))},S=({propertyIds:t="",showDiscount:a=!1,showSuburb:r=!0,showPostcode:n=!0,showRedeemGiftCertificate:i=!1,showComments:o=!1})=>{const c=E("nights"),l=c&&!isNaN(c)?parseInt(c,10):1,s=E("start"),u=E("discount"),m=s?(e=>{const t=e.split("-");if(3===t.length){const[e,a,r]=t.map(Number);if(!isNaN(e)&&!isNaN(a)&&!isNaN(r)){const t=new Date(r,a-1,e);return t.setHours(12,0,0,0),t.toISOString().split("T")[0]}}return null})(s):"",d="string"==typeof t?t:"",[p,f]=(0,e.useState)({date:m,nights:l}),[b,h]=(0,e.useState)(null),[S,_]=(0,e.useState)({}),[P,x]=(0,e.useState)(null),[O,j]=(0,e.useState)(null),[T,F]=(0,e.useState)(!1),[A,D]=(0,e.useState)(""),[I,G]=(0,e.useState)({firstName:"",lastName:"",phone:"",email:"",postcode:"",suburb:"",comments:""}),[$,B]=(0,e.useState)(!1),[L,M]=(0,e.useState)(!1),[U,Y]=(0,e.useState)(u),[q,W]=(0,e.useState)(null),[z,H]=(0,e.useState)(!1),[J,V]=(0,e.useState)(null),[K,Q]=(0,e.useState)({}),[X,Z]=(0,e.useState)({number:"",pin:""}),[ee,te]=(0,e.useState)(!1),[ae,re]=(0,e.useState)(null),[ne,ie]=(0,e.useState)(!1),[oe,ce]=(0,e.useState)({}),[le,se]=(0,e.useState)(!1);(0,e.useEffect)((()=>{m&&l&&(console.log("Auto-checking availability with:",m,l),ue(m,l))}),[m,l]);const ue=async(e=p.date,t=p.nights)=>{if(!e||!d)return void console.warn("fetchAvailability skipped - Missing startDate or propertyIds");const a=p.date,r=d.split(",").filter((e=>""!==e.trim()));console.log("Requesting availability with:",{ids:r,start:a,nights:t}),F(!0),D(""),se(!1);try{const e=await fetch(`${v}/bookitfast/v1/availability`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:r,start:a,nights:t})}),n=await e.json();h(n),se(!0);const i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});_(i)}catch(e){console.error(e),D("Failed to fetch availability. Please try again.")}finally{F(!1)}},me=(e,t)=>{ce((a=>{const r=a[e]||{},n={...a,[e]:{...r,[t]:!r[t]}};return de(S,U,n,0),n}))},de=async(e,t=null,a=oe,r=0)=>{const n=p.date,i=p.nights,o=new Date(new Date(n).getTime()+864e5*i).toISOString().split("T")[0];F(!0),D("");try{const r=await fetch(`${v}/bookitfast/v1/availability/summary`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected:e,selected_optional_extras:a,start:n,end:o,discount_code:t||null})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const i=await r.json();j(i),i.stripe_publishable_key&&x(y(i.stripe_publishable_key))}catch(n){console.error("Error fetching summary:",n),r<3?(console.log(`Retrying... Attempt ${r+1}`),await de(e,t,a,r+1)):D("Failed to fetch summary. Please try again.")}finally{F(!1)}},pe=e=>{(()=>{const e={};return I.firstName.trim()||(e.firstName="First name is required"),I.lastName.trim()||(e.lastName="Last name is required"),I.email.trim()||(e.email="Email is required"),I.phone.trim()||(e.phone="Phone is required"),$||(e.agreeToTerms="You must agree to the terms and conditions"),L||(e.consentToDataSharing="You must consent to data sharing with Book It Fast service"),Q(e),0===Object.keys(e).length})()&&(V(e),H(!0))},fe=b?Object.entries(b).filter((([e])=>S[e])).map((([e,t])=>({id:e,...t,selectedExtras:oe[e],onToggleExtra:me}))):[];return React.createElement("div",{className:"bif-booking-container"},React.createElement("div",{className:"bif-booking-steps"},React.createElement(C,{checkInDate:p.date,nights:p.nights,onDateChange:e=>f((t=>({...t,date:e}))),onNightsChange:e=>f((t=>({...t,nights:e}))),onCheckAvailability:ue,isLoading:T}),A&&React.createElement("div",{className:"bif-error-message"},A),le&&b&&React.createElement("div",{className:"bif-property-list"},React.createElement("h2",{className:"bif-section-title"},"Available Properties"),React.createElement("div",{className:"bif-properties"},Object.entries(b).map((([e,t])=>React.createElement(R,{key:e,property:{id:e,...t,selectedExtras:oe[e],onToggleExtra:me},isSelected:S[e],onToggle:()=>(async e=>{const t={...S,[e]:!S[e]};_(t),Object.values(t).includes(!0)?await de(t,U):j(null)})(e),nights:p.nights,checkInDate:p.date}))))),O&&fe.length>0&&React.createElement(N,{selectedProperties:fe,selectedExtras:oe,nights:p.nights,total:(O.order_payable_now||0)-(O.order_surcharge||0),discountCode:U,onDiscountCodeChange:Y,onApplyDiscount:e=>{Object.keys(S).some((e=>S[e]))&&de(S,e)},checkInDate:p.date,summary:O,showRedeemGiftCertificate:i,giftCertificate:X,onGiftCertificateChange:Z,showGiftCertificateForm:ee,onTriggerShowGiftCertificate:()=>{te(!0)},onApplyGiftCertificate:async e=>{if(e.preventDefault(),console.log("Gift Certificate: Apply button clicked"),console.log("Gift Certificate Data:",X),console.log("Current Summary:",O),ne)return void console.log("Gift Certificate: Already processing, ignoring click");if(!O)return void console.error("Gift Certificate: No summary available");if(!X.number||!X.pin)return console.error("Gift Certificate: Missing number or pin"),void alert("Please enter both certificate number and pin");ie(!0),console.log("Gift Certificate: Setting loading state to true");let t={...O};if(O.order_weekly_discount>0){console.log("Gift Certificate: Weekly discount detected, adjusting summary for gift certificate calculation"),console.log("Gift Certificate: Original order_grand_total:",O.order_grand_total),console.log("Gift Certificate: Order weekly discount:",O.order_weekly_discount),console.log("Gift Certificate: Order surcharge:",O.order_surcharge);const e=parseFloat(O.order_sub_total)+parseFloat(O.order_mandatory_extras_total);console.log("Gift Certificate: Total before weekly discount (excluding surcharge):",e),t={...O,order_grand_total:e.toString(),order_total_before_surcharge:e,order_payable_now:e.toString(),order_surcharge:0,order_has_surcharge:!1},console.log("Gift Certificate: Adjusted summary for gift certificate:",t)}const a={certificate:X,summary:t};console.log("Gift Certificate: Sending request with data:",a);try{const e=await fetch(`${v}/bookitfast/v1/apply-gift-certificate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(console.log("Gift Certificate: Response status:",e.status),!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();console.log("Gift Certificate: Response data:",t),t.valid?(re(t),t.summary&&(j(t.summary),console.log("Gift Certificate: Updated summary:",t.summary)),console.log("Gift Certificate: Application successful"),console.log("Gift Certificate: Order payable now:",t.order_payable_now)):(console.error("Gift Certificate: API returned error:",t),alert(t.message||"Failed to apply gift certificate"))}catch(e){console.error("Gift Certificate: Error applying certificate:",e),alert("Error applying gift certificate. Please try again.")}finally{ie(!1),console.log("Gift Certificate: Setting loading state to false")}},gcResult:ae,gcLoading:ne}),O&&fe.length>0&&React.createElement(k,{userDetails:I,onUpdateDetails:(e,t)=>{G((a=>({...a,[e]:t}))),K[e]&&Q((t=>({...t,[e]:null})))},formErrors:K}),O&&fe.length>0&&React.createElement("div",{className:"bif-terms-payment"},React.createElement("div",{className:"bif-terms-checkbox"},React.createElement("input",{type:"checkbox",id:"agreeToTerms",checked:$,onChange:()=>B(!$)}),React.createElement("label",{htmlFor:"agreeToTerms"},"I have read and agree to the"," ",O.order_booking_conditions?.map(((e,t)=>React.createElement("span",{key:t},React.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title),t<O.order_booking_conditions.length-2?", ":"",t===O.order_booking_conditions.length-2?" and ":"")))),K.agreeToTerms&&React.createElement("div",{className:"bif-field-error"},K.agreeToTerms)),React.createElement("div",{className:"bif-privacy-consent"},React.createElement("input",{type:"checkbox",id:"consentToDataSharing",checked:L,onChange:()=>M(!L)}),React.createElement("label",{htmlFor:"consentToDataSharing"},"I consent to my personal information being transmitted to and processed by Book It Fast (",React.createElement("a",{href:"https://bookitfast.app/privacy-policy",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy"),") for booking and payment processing purposes."),K.consentToDataSharing&&React.createElement("div",{className:"bif-field-error"},K.consentToDataSharing)),!z&&React.createElement("div",{className:"bif-payment-options"},Object.keys(K).length>0&&React.createElement("div",{className:"bif-validation-error"},"Please complete all required fields before proceeding with payment."),ae&&ae.valid&&parseFloat(ae.total)-parseFloat(ae.gc_amount_applied)==0?React.createElement("div",{className:"bif-gift-certificate-payment"},React.createElement("div",{className:"bif-gift-certificate-full-coverage"},React.createElement("p",null,"ðŸŽ‰ ",React.createElement("strong",null,"Your gift certificate covers the full booking amount!")),React.createElement("p",null,"No additional payment required.")),React.createElement("button",{className:"bif-btn bif-btn-primary bif-btn-large",onClick:()=>pe("gift")},"ðŸŽ Complete Booking with Gift Certificate")):React.createElement(React.Fragment,null,O.order_surcharge>0&&parseFloat(O.order_payable_now||0)>0&&React.createElement("div",{className:"bif-surcharge-info"},React.createElement("p",null,"Please note a credit card surcharge applies of ",O.order_deposit_surcharge>0&&` $${O.order_deposit_surcharge} for deposit or `,"$",O.order_surcharge," for the full payment.")),O.order_deposit_amount>0?React.createElement("div",{className:"bif-payment-buttons"},React.createElement("button",{className:"bif-btn bif-btn-primary",onClick:()=>pe("deposit")},"ðŸ’³ Pay Deposit ($",O.order_deposit_amount,")"),React.createElement("button",{className:"bif-btn bif-btn-primary",onClick:()=>pe("full")},"ðŸ’³ Pay In Full ($",ae&&ae.valid?parseFloat(ae.order_payable_now).toFixed(2):O.order_payable_now,")")):React.createElement("button",{className:"bif-btn bif-btn-primary bif-btn-large",onClick:()=>pe("full")},"ðŸ’³ Complete Booking - $",ae&&ae.valid?parseFloat(ae.order_payable_now).toFixed(2):O.order_payable_now)))),O&&z&&React.createElement("div",{className:"bif-payment-form-container"},"gift"===J?React.createElement(w,{summary:O,propertyIds:d.split(",").map((e=>parseInt(e.trim()))),userDetails:I,paymentType:J,giftCertificate:ae}):P&&React.createElement(g.Elements,{stripe:P},React.createElement(w,{summary:O,propertyIds:d.split(",").map((e=>parseInt(e.trim()))),userDetails:I,paymentType:J,giftCertificate:ae})))))};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("bif-book-it-fast-multi-embed");if(e){const a=e.dataset.propertyIds||"",r="true"===e.dataset.showDiscount,n="true"===e.dataset.showSuburb,o="true"===e.dataset.showPostcode,c="true"===e.dataset.showRedeemGiftCertificate,l="true"===e.dataset.showComments;i().render(t().createElement(S,{propertyIds:a,showDiscount:r,showSuburb:n,showPostcode:o,showRedeemGiftCertificate:c,showComments:l}),e)}}))})()})();