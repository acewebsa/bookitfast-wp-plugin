/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={594:e=>{"use strict";e.exports=React},926:function(e,t,r){!function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u,p,m,f,d={exports:{}};d.exports=function(){if(f)return m;f=1;var e=p?u:(p=1,u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function r(){}return r.resetWarningCache=t,m=function(){function n(t,r,n,a,o,c){if(c!==e){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function a(){return n}n.isRequired=n;var o={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o}}()();var h=l(d.exports),y=function(e,r,n){var a=!!n,o=t.useRef(n);t.useEffect((function(){o.current=n}),[n]),t.useEffect((function(){if(!a||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(r,t),function(){e.off(r,t)}}),[a,r,e,o])},v=function(e){var r=t.useRef(e);return t.useEffect((function(){r.current=e}),[e]),r.current},b=function(e){return null!==e&&"object"===a(e)},g="[object Object]",E=function e(t,r){if(!b(t)||!b(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var a=Object.prototype.toString.call(t)===g;if(a!==(Object.prototype.toString.call(r)===g))return!1;if(!a&&!n)return t===r;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(var i={},s=0;s<o.length;s+=1)i[o[s]]=!0;for(var l=0;l<c.length;l+=1)i[c[l]]=!0;var u=Object.keys(i);if(u.length!==o.length)return!1;var p=t,m=r;return u.every((function(t){return e(p[t],m[t])}))},w=function(e,t,r){return b(e)?Object.keys(e).reduce((function(a,c){var i=!b(t)||!E(e[c],t[c]);return r.includes(c)?(i&&console.warn("Unsupported prop change: options.".concat(c," is not a mutable property.")),a):i?n(n({},a||{}),{},o({},c,e[c])):a}),null):null},_="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",k=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;if(null===e||b(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(r)},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;if(function(e){return b(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return k(e,t)}))};var r=k(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},R=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},S=t.createContext(null);S.displayName="ElementsContext";var N=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},x=function(e){var r=e.stripe,n=e.options,a=e.children,o=t.useMemo((function(){return C(r)}),[r]),c=i(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(n):null}})),2),s=c[0],l=c[1];t.useEffect((function(){var e=!0,t=function(e){l((function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}}))};return"async"!==o.tag||s.stripe?"sync"!==o.tag||s.stripe||t(o.stripe):o.stripePromise.then((function(r){r&&e&&t(r)})),function(){e=!1}}),[o,s,n]);var u=v(r);t.useEffect((function(){null!==u&&u!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[u,r]);var p=v(n);return t.useEffect((function(){if(s.elements){var e=w(n,p,["clientSecret","fonts"]);e&&s.elements.update(e)}}),[n,p,s.elements]),t.useEffect((function(){R(s.stripe)}),[s.stripe]),t.createElement(S.Provider,{value:s},a)};x.propTypes={stripe:h.any,options:h.object};var P=function(e){var r=t.useContext(S);return N(r,e)},j=function(e){return(0,e.children)(P("mounts <ElementsConsumer>"))};j.propTypes={children:h.func.isRequired};var O=["on","session"],A=t.createContext(null);A.displayName="CheckoutSdkContext";var T=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},I=t.createContext(null);I.displayName="CheckoutContext";var L=function(e){var r=e.stripe,n=e.options,a=e.children,o=t.useMemo((function(){return C(r,"Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[r]),s=i(t.useState(null),2),l=s[0],u=s[1],p=i(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,checkoutSdk:null}})),2),m=p[0],f=p[1],d=function(e,t){f((function(r){return r.stripe&&r.checkoutSdk?r:{stripe:e,checkoutSdk:t}}))},h=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==o.tag||m.stripe?"sync"===o.tag&&o.stripe&&!h.current&&(h.current=!0,o.stripe.initCheckout(n).then((function(e){e&&(d(o.stripe,e),e.on("change",u))}))):o.stripePromise.then((function(t){t&&e&&!h.current&&(h.current=!0,t.initCheckout(n).then((function(e){e&&(d(t,e),e.on("change",u))})))})),function(){e=!1}}),[o,m,n,u]);var y=v(r);t.useEffect((function(){null!==y&&y!==r&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[y,r]);var b=v(n);t.useEffect((function(){var e,t;if(m.checkoutSdk){var r=null==b||null===(e=b.elementsOptions)||void 0===e?void 0:e.appearance,a=null==n||null===(t=n.elementsOptions)||void 0===t?void 0:t.appearance;a&&!E(a,r)&&m.checkoutSdk.changeAppearance(a)}}),[n,b,m.checkoutSdk]),t.useEffect((function(){R(m.stripe)}),[m.stripe]);var g=t.useMemo((function(){return function(e,t){if(!e)return null;e.on,e.session;var r=c(e,O);return t?Object.assign(t,r):Object.assign(e.session(),r)}(m.checkoutSdk,l)}),[m.checkoutSdk,l]);return m.checkoutSdk?t.createElement(A.Provider,{value:m},t.createElement(I.Provider,{value:g},a)):null};L.propTypes={stripe:h.any,options:h.shape({fetchClientSecret:h.func.isRequired,elementsOptions:h.object}).isRequired};var D=function(e){var r=t.useContext(A),n=t.useContext(S);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r?T(r,e):N(n,e)},F=["mode"],M=function(e,r){var n,a="".concat((n=e).charAt(0).toUpperCase()+n.slice(1),"Element"),o=r?function(e){D("mounts <".concat(a,">"));var r=e.id,n=e.className;return t.createElement("div",{id:r,className:n})}:function(r){var n,o=r.id,s=r.className,l=r.options,u=void 0===l?{}:l,p=r.onBlur,m=r.onFocus,f=r.onReady,d=r.onChange,h=r.onEscape,b=r.onClick,g=r.onLoadError,E=r.onLoaderStart,_=r.onNetworksChange,k=r.onConfirm,C=r.onCancel,R=r.onShippingAddressChange,S=r.onShippingRateChange,N=D("mounts <".concat(a,">")),x="elements"in N?N.elements:null,P="checkoutSdk"in N?N.checkoutSdk:null,j=i(t.useState(null),2),O=j[0],A=j[1],T=t.useRef(null),I=t.useRef(null);y(O,"blur",p),y(O,"focus",m),y(O,"escape",h),y(O,"click",b),y(O,"loaderror",g),y(O,"loaderstart",E),y(O,"networkschange",_),y(O,"confirm",k),y(O,"cancel",C),y(O,"shippingaddresschange",R),y(O,"shippingratechange",S),y(O,"change",d),f&&(n="expressCheckout"===e?f:function(){f(O)}),y(O,"ready",n),t.useLayoutEffect((function(){if(null===T.current&&null!==I.current&&(x||P)){var t=null;if(P)switch(e){case"payment":t=P.createPaymentElement(u);break;case"address":if(!("mode"in u))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var r=u.mode,n=c(u,F);if("shipping"===r)t=P.createShippingAddressElement(n);else{if("billing"!==r)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=P.createBillingAddressElement(n)}break;case"expressCheckout":t=P.createExpressCheckoutElement(u);break;case"currencySelector":t=P.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else x&&(t=x.create(e,u));T.current=t,A(t),t&&t.mount(I.current)}}),[x,P,u]);var L=v(u);return t.useEffect((function(){if(T.current){var e=w(u,L,["paymentRequest"]);e&&"update"in T.current&&T.current.update(e)}}),[u,L]),t.useLayoutEffect((function(){return function(){if(T.current&&"function"==typeof T.current.destroy)try{T.current.destroy(),T.current=null}catch(e){}}}),[]),t.createElement("div",{id:o,className:s,ref:I})};return o.propTypes={id:h.string,className:h.string,onChange:h.func,onBlur:h.func,onFocus:h.func,onReady:h.func,onEscape:h.func,onClick:h.func,onLoadError:h.func,onLoaderStart:h.func,onNetworksChange:h.func,onConfirm:h.func,onCancel:h.func,onShippingAddressChange:h.func,onShippingRateChange:h.func,options:h.object},o.displayName=a,o.__elementType=e,o},B="undefined"==typeof window,Y=t.createContext(null);Y.displayName="EmbeddedCheckoutProviderContext";var $=function(){var e=t.useContext(Y);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},G=B?function(e){var r=e.id,n=e.className;return $(),t.createElement("div",{id:r,className:n})}:function(e){var r=e.id,n=e.className,a=$().embeddedCheckout,o=t.useRef(!1),c=t.useRef(null);return t.useLayoutEffect((function(){return!o.current&&a&&null!==c.current&&(a.mount(c.current),o.current=!0),function(){if(o.current&&a)try{a.unmount(),o.current=!1}catch(e){}}}),[a]),t.createElement("div",{ref:c,id:r,className:n})},U=M("auBankAccount",B),q=M("card",B),W=M("cardNumber",B),J=M("cardExpiry",B),H=M("cardCvc",B),z=M("fpxBank",B),V=M("iban",B),K=M("idealBank",B),Q=M("p24Bank",B),X=M("epsBank",B),Z=M("payment",B),ee=M("expressCheckout",B),te=M("currencySelector",B),re=M("paymentRequestButton",B),ne=M("linkAuthentication",B),ae=M("address",B),oe=M("shippingAddress",B),ce=M("paymentMethodMessaging",B),ie=M("affirmMessage",B),se=M("afterpayClearpayMessage",B);e.AddressElement=ae,e.AffirmMessageElement=ie,e.AfterpayClearpayMessageElement=se,e.AuBankAccountElement=U,e.CardCvcElement=H,e.CardElement=q,e.CardExpiryElement=J,e.CardNumberElement=W,e.CheckoutProvider=L,e.CurrencySelectorElement=te,e.Elements=x,e.ElementsConsumer=j,e.EmbeddedCheckout=G,e.EmbeddedCheckoutProvider=function(e){var r=e.stripe,n=e.options,a=e.children,o=t.useMemo((function(){return C(r,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[r]),c=t.useRef(null),s=t.useRef(null),l=i(t.useState({embeddedCheckout:null}),2),u=l[0],p=l[1];t.useEffect((function(){if(!s.current&&!c.current){var e=function(e){s.current||c.current||(s.current=e,c.current=s.current.initEmbeddedCheckout(n).then((function(e){p({embeddedCheckout:e})})))};"async"!==o.tag||s.current||!n.clientSecret&&!n.fetchClientSecret?"sync"!==o.tag||s.current||!n.clientSecret&&!n.fetchClientSecret||e(o.stripe):o.stripePromise.then((function(t){t&&e(t)}))}}),[o,n,u,s]),t.useEffect((function(){return function(){u.embeddedCheckout?(c.current=null,u.embeddedCheckout.destroy()):c.current&&c.current.then((function(){c.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){R(s)}),[s]);var m=v(r);t.useEffect((function(){null!==m&&m!==r&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,r]);var f=v(n);return t.useEffect((function(){null!=f&&(null!=n?(void 0===n.clientSecret&&void 0===n.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=f.clientSecret&&n.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.fetchClientSecret&&n.fetchClientSecret!==f.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&n.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=f.onShippingDetailsChange&&n.onShippingDetailsChange!==f.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=f.onLineItemsChange&&n.onLineItemsChange!==f.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[f,n]),t.createElement(Y.Provider,{value:u},a)},e.EpsBankElement=X,e.ExpressCheckoutElement=ee,e.FpxBankElement=z,e.IbanElement=V,e.IdealBankElement=K,e.LinkAuthenticationElement=ne,e.P24BankElement=Q,e.PaymentElement=Z,e.PaymentMethodMessagingElement=ce,e.PaymentRequestButtonElement=re,e.ShippingAddressElement=oe,e.useCheckout=function(){!function(e){var r=t.useContext(A);T(r,e)}("calls useCheckout()");var e=t.useContext(I);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},e.useElements=function(){return P("calls useElements()").elements},e.useStripe=function(){return D("calls useStripe()").stripe}}(t,r(594))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";var e,t=r(594),n="https://js.stripe.com",a="".concat(n,"/v3"),o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,i="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",s=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(a).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},l=null,u=null,p=null,m=!1,f=function(){return e||(e=(t=null,null!==l?l:(l=new Promise((function(e,r){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&t&&console.warn(i),window.Stripe)e(window.Stripe);else try{var a=function(){for(var e,t=document.querySelectorAll('script[src^="'.concat(n,'"]')),r=0;r<t.length;r++){var a=t[r];if(e=a.src,o.test(e)||c.test(e))return a}return null}();if(a&&t)console.warn(i);else if(a){if(a&&null!==p&&null!==u){var l;a.removeEventListener("load",p),a.removeEventListener("error",u),null===(l=a.parentNode)||void 0===l||l.removeChild(a),a=s(t)}}else a=s(t);p=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(e,r),u=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(r),a.addEventListener("load",p),a.addEventListener("error",u)}catch(e){return void r(e)}else e(null)}))).catch((function(e){return l=null,Promise.reject(e)}))).catch((function(t){return e=null,Promise.reject(t)})));var t};Promise.resolve().then((function(){return f()})).catch((function(e){m||console.warn(e)}));var d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];m=!0;var n=Date.now();return f().then((function(e){return function(e,t,r){if(null===e)return null;var n=t[0].match(/^pk_test/),a=function(e){return 3===e?"v3":e}(e.version);n&&"v3"!==a&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat("v3",". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:t})}(o,r),o}(e,t,n)}))},h=r(926);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(){E=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,c=Object.create(o.prototype),i=new A(n||[]);return a(c,"_invoke",{value:x(e,r,i)}),c}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",d="executing",h="completed",v={};function b(){}function g(){}function w(){}var _={};l(_,c,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(T([])));C&&C!==r&&n.call(C,c)&&(_=C);var R=w.prototype=b.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(a,o,c,i){var s=p(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==y(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,c,i)}),(function(e){r("throw",e,c,i)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,i)}))}i(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function x(t,r,n){var a=m;return function(o,c){if(a===d)throw Error("Generator is already running");if(a===h){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var s=P(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var l=p(t,r,n);if("normal"===l.type){if(a=n.done?h:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=p(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var c=o.arg;return c?c.done?(r[t.resultName]=c.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(y(t)+" is not iterable")}return g.prototype=w,a(R,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,s,"GeneratorFunction")),e.prototype=Object.create(R),e},t.awrap=function(e){return{__await:e}},S(N.prototype),l(N.prototype,i,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new N(u(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},S(R),l(R,s,"Generator"),l(R,c,(function(){return this})),l(R,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return i.type="throw",i.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var s=n.call(c,"catchLoc"),l=n.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function w(e,t,r,n,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,a)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){w(o,n,a,c,i,"next",e)}function i(e){w(o,n,a,c,i,"throw",e)}c(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],s=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw a}}return i}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S,N=(S=document.querySelector('link[rel="https://api.w.org/"]'))?S.href.replace(/\/$/,""):"/wp-json",x=(d("your-publishable-key-here"),function(e){return new URLSearchParams(window.location.search).get(e)}),P=function(e){var r=e.summary,n=e.propertyIds,a=e.userDetails,o=e.paymentType,c=e.giftCertificate,i=(0,h.useStripe)(),s=(0,h.useElements)(),l=k((0,t.useState)(!1),2),u=l[0],p=l[1],m=k((0,t.useState)(""),2),f=m[0],d=m[1],y=k((0,t.useState)(!1),2),v=y[0],b=y[1],g=k((0,t.useState)(""),2),w=g[0],C=g[1],R=function(){var e=_(E().mark((function e(t){var l,u,m,f,y,v,g,w;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i&&s){e.next=4;break}return console.error("Stripe.js has not loaded yet."),e.abrupt("return");case 4:return p(!0),d(""),l=s.getElement(h.CardElement),e.prev=7,e.next=10,i.createPaymentMethod({type:"card",card:l});case 10:if(u=e.sent,m=u.paymentMethod,!(f=u.error)){e.next=18;break}return console.error(f),d(f.message),p(!1),e.abrupt("return");case 18:return y="deposit"===o?r.order_deposit_amount:r.order_payable_now,v={stripePaymentMethodId:m.id,amount:y,currency:"AUD",summary:r,propertyIds:"string"==typeof n?n.split(",").map((function(e){return parseInt(e.trim())})):n,userDetails:a,paymentType:o},"gift"===o&&c&&(v.giftCertificateApplied=!0,v.giftCertificate=c),e.next=23,fetch("".concat(N,"/bookitfast/v1/process-payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});case 23:return g=e.sent,e.next=26,g.json();case 26:if(!(w=e.sent).success){e.next=33;break}console.log("Payment successful:",w),C(w.data.charge),b(!0),e.next=34;break;case 33:throw new Error(w.message||"Payment failed.");case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(7),console.error("Payment error:",e.t0),d(e.t0.message);case 40:return e.prev=40,p(!1),e.finish(40);case 43:case"end":return e.stop()}}),e,null,[[7,36,40,43]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement("div",{className:"payment-container"},React.createElement("h3",null,"Payment Details"),f&&React.createElement("p",{className:"alert alert-danger"},f),v?React.createElement("div",{className:"alert alert-success"},React.createElement("p",null,React.createElement("strong",null,"Payment Successful!")),w&&React.createElement("p",null,React.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer"},"Click here to view your receipt."))):React.createElement("form",{onSubmit:R},React.createElement(h.CardElement,{options:{hidePostalCode:!0,style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}}),React.createElement("button",{type:"submit",disabled:!i||u,className:"btn btn-primary"},u?"Processing...":"Pay Now")))};const j=function(e){var r=e.propertyIds,n=void 0===r?"":r,a=(e.showDiscount,e.showSuburb),o=void 0===a||a,c=e.showPostcode,i=void 0===c||c,s=e.showRedeemGiftCertificate,l=void 0!==s&&s,u=e.showComments,p=void 0!==u&&u,m=x("nights"),f=m&&!isNaN(m)?parseInt(m,10):1,y=x("start"),v=x("discount"),w=y?function(e){var t=e.split("-");if(3===t.length){var r=k(t.map(Number),3),n=r[0],a=r[1],o=r[2];if(!isNaN(n)&&!isNaN(a)&&!isNaN(o)){var c=new Date(o,a-1,n);return c.setHours(12,0,0,0),c.toISOString().split("T")[0]}}return null}(y):"",S="string"==typeof n?n:"",j=k((0,t.useState)({date:w,nights:f}),2),O=j[0],A=j[1],T=k((0,t.useState)(null),2),I=T[0],L=T[1],D=k((0,t.useState)({}),2),F=D[0],M=D[1],B=k((0,t.useState)(null),2),Y=B[0],$=B[1],G=k((0,t.useState)(null),2),U=G[0],q=G[1],W=k((0,t.useState)(!1),2),J=W[0],H=W[1],z=k((0,t.useState)(""),2),V=z[0],K=z[1],Q=k((0,t.useState)({firstName:"",lastName:"",phone:"",email:"",postcode:"",suburb:"",comments:""}),2),X=Q[0],Z=Q[1],ee=k((0,t.useState)(!1),2),te=ee[0],re=ee[1],ne=k((0,t.useState)(v),2),ae=ne[0],oe=ne[1],ce=k((0,t.useState)(null),2),ie=ce[0],se=(ce[1],k((0,t.useState)(!1),2)),le=(se[0],se[1],k((0,t.useState)(!1),2)),ue=(le[0],le[1]),pe=k((0,t.useState)(!1),2),me=pe[0],fe=pe[1],de=k((0,t.useState)(null),2),he=de[0],ye=de[1],ve=k((0,t.useState)({}),2),be=ve[0],ge=ve[1],Ee=k((0,t.useState)({number:"",pin:""}),2),we=Ee[0],_e=Ee[1],ke=k((0,t.useState)(!1),2),Ce=ke[0],Re=ke[1],Se=k((0,t.useState)(null),2),Ne=Se[0],xe=Se[1],Pe=k((0,t.useState)({}),2),je=Pe[0],Oe=Pe[1];(0,t.useEffect)((function(){w&&f&&(console.log("Auto-checking availability with:",w,f),Te(w,f))}),[w,f]);var Ae,Te=function(){var e=_(E().mark((function e(){var t,r,n,a,o,c,i,s=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:O.date,r=s.length>1&&void 0!==s[1]?s[1]:O.nights,t&&S){e.next=5;break}return console.warn("fetchAvailability skipped - Missing startDate or propertyIds"),e.abrupt("return");case 5:return n=O.date,a=S.split(",").filter((function(e){return""!==e.trim()})),console.log("Requesting availability with:",{ids:a,start:n,nights:r}),H(!0),K(""),e.prev=10,e.next=13,fetch("".concat(N,"/bookitfast/v1/availability"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:a,start:n,nights:r})});case 13:return o=e.sent,e.next=16,o.json();case 16:c=e.sent,L(c),i=Object.keys(c).reduce((function(e,t){return e[t]=!1,e}),{}),M(i),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),console.error(e.t0),K("Failed to fetch availability. Please try again.");case 26:return e.prev=26,H(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[10,22,26,29]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=_(E().mark((function e(t){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b(b({},F),{},g({},t,!F[t])),M(r),!Object.values(r).includes(!0)){e.next=7;break}return e.next=5,Le(r,ae);case 5:e.next=8;break;case 7:q(null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=_(E().mark((function e(t){var r,n,a,o,c,i,s,l,u=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:null,n=u.length>2&&void 0!==u[2]?u[2]:je,a=u.length>3&&void 0!==u[3]?u[3]:0,o=O.date,c=O.nights,i=new Date(new Date(o).getTime()+864e5*c).toISOString().split("T")[0],H(!0),K(""),e.prev=8,e.next=11,fetch("".concat(N,"/bookitfast/v1/availability/summary"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected:t,selected_optional_extras:n,start:o,end:i,discount_code:r||null})});case 11:if((s=e.sent).ok){e.next=14;break}throw new Error("HTTP error! status: ".concat(s.status));case 14:return e.next=16,s.json();case 16:l=e.sent,q(l),l.stripe_publishable_key&&$(d(l.stripe_publishable_key)),e.next=31;break;case 21:if(e.prev=21,e.t0=e.catch(8),console.error("Error fetching summary:",e.t0),!(a<3)){e.next=30;break}return console.log("Retrying... Attempt ".concat(a+1)),e.next=28,Le(t,r,n,a+1);case 28:e.next=31;break;case 30:K("Failed to fetch summary. Please try again.");case 31:return e.prev=31,H(!1),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[8,21,31,34]])})));return function(t){return e.apply(this,arguments)}}(),De=function(e){var t;t={},X.firstName.trim()||(t.firstName="First name is required."),X.lastName.trim()||(t.lastName="Last name is required."),X.phone.trim()||(t.phone="Phone is required."),X.email.trim()||(t.email="Email is required."),i&&!X.postcode.trim()&&(t.postcode="Postcode is required."),o&&!X.suburb.trim()&&(t.suburb="Suburb is required."),te||(t.agreeToTerms="You must agree to the terms and conditions."),ge(t),0===Object.keys(t).length?(ye(e),fe(!0)):window.scrollTo(0,document.body.scrollHeight)},Fe=function(){var e=_(E().mark((function e(t){var r,n,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),U){e.next=3;break}return e.abrupt("return");case 3:return r={certificate:we,summary:U},e.prev=4,e.next=7,fetch("".concat(N,"/bookitfast/v1/apply-gift-certificate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:return n=e.sent,e.next=10,n.json();case 10:a=e.sent,xe(a),q(a.summary),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("Error applying gift certificate",e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=_(E().mark((function e(){var t,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),console.log("Submit Order With Gift Certificate..."),e.next=5,fetch("".concat(N,"/process-payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({giftCertificateApplied:!0,giftCertificate:Ne,summary:U,propertyIds:Object.keys(F).filter((function(e){return F[e]})),userDetails:X,amount:0})});case 5:return t=e.sent,e.next=8,t.json();case 8:(r=e.sent).success?(console.log("Payment successful:",r),ue(!0)):K(r.message||"Order submission failed."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Order submission error:",e.t0),K(e.t0.message);case 16:return e.prev=16,H(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return React.createElement("div",null,React.createElement("div",{className:"bookitfast-container"},React.createElement("div",{className:"form-inline",id:"bookitfastbooking"},React.createElement("div",{className:"form-group"},React.createElement("label",null,"Check-In Date:"),React.createElement("input",{type:"date",value:O.date,onChange:function(e){var t=e.target.value;console.log("New selected date:",t),A(b(b({},O),{},{date:t}))},className:"form-control"})),React.createElement("div",{className:"form-group"},React.createElement("label",null,"Number of Nights:"),React.createElement("select",{value:O.nights,onChange:function(e){return A(b(b({},O),{},{nights:parseInt(e.target.value)}))},className:"form-control"},(Ae=Array(14).keys(),function(e){if(Array.isArray(e))return R(e)}(Ae)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Ae)||C(Ae)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return React.createElement("option",{key:e,value:e+1},e+1," night",e+1>1?"s":"")})))),React.createElement("div",{className:"form-group bif-availability-button-container"},React.createElement("button",{className:"btn btn-success",onClick:Te,disabled:!O.date||J},J?"Checking...":"Check Availability"))),V&&React.createElement("p",{className:"alert alert-danger"},V)),I&&(I&&0!==Object.keys(I).length?Object.entries(I).map((function(e){var t,r=k(e,2),n=r[0],a=r[1],o=a.property_name,c=a.availability;return React.createElement("div",{key:n,className:"bookitfast_availability_grid_div"},React.createElement("h3",null,o),React.createElement("div",{className:"availability_button alignright"},c.available?React.createElement("button",{className:"btn ".concat(F[n]?"btn-success":"btn-primary"),onClick:function(){return Ie(n)}},F[n]?"Selected":"Click to Select"):React.createElement("button",{className:"btn btn-danger",disabled:!0},"Not Available")),React.createElement("table",{className:"availability_table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"availability_table_header"},"Date"),React.createElement("th",{className:"availability_table_header"},"Status"),React.createElement("th",{className:"availability_table_header"},"Price"))),React.createElement("tbody",null,c.dates.map((function(e,t){return React.createElement("tr",{key:t,className:"bookitfast_day_row ".concat(e.availability?"cell_date_available":"cell_date_unavailable")},React.createElement("td",{className:"bookitfast_day"},e.date_formatted),React.createElement("td",{className:"bookitfast_availability_cell"},React.createElement("div",null,"Min Nights"===e.availability_reason&&"Min Nights ".concat(e.min_nights),"Booked Out"===e.availability_reason&&"Booked Out","No Tariff Set"===e.availability_reason&&"Rates Not Available","Available"===e.availability_reason&&"Available")),React.createElement("td",null,React.createElement("div",{className:"avail_rate"},e.rate?"$".concat(e.rate):"-")))})))),(null===(t=a.optional_extras)||void 0===t?void 0:t.length)>0&&F[n]&&React.createElement("div",{className:"optional_extras"},React.createElement("h4",null,"Optional Extras"),a.optional_extras.map((function(e){var t;return React.createElement("div",{key:e.id,className:"property_summary_detail_row property_summary_item_body_section bookitfast_optional_extra"},React.createElement("div",null,React.createElement("input",{type:"checkbox",checked:(null===(t=je[n])||void 0===t?void 0:t[e.id])||!1,onChange:function(){return function(e,t){Oe((function(r){var n=r[e]||{},a=b(b({},r),{},g({},e,b(b({},n),{},g({},t,!n[t]))));return Le(F,ae,a,0),a}))}(n,e.id)}}),React.createElement("label",null,e.description)),React.createElement("div",null,"$",e.amount))}))))})):React.createElement("p",null,"No availability data found.")),U&&React.createElement("div",{className:"bookitfast-container bif-mt-2 discount-code-container"},React.createElement("div",{className:"discount-code-row"},React.createElement("label",{htmlFor:"discountCode",className:"discount-label"},"Discount Code:"),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",id:"discountCode",value:ae,onChange:function(e){return oe(e.target.value)},className:"discount-input",placeholder:"Enter discount code"}),React.createElement("button",{className:"btn btn-primary apply-discount-btn",onClick:function(){return Le(F,ae)},disabled:!ae},"Apply Discount"))),ie&&React.createElement("p",{className:"discount-message ".concat(ie.success?"success":"error")},ie.message)),U&&(l&&U?React.createElement("div",{id:"bookitfast_gift_certificates"},React.createElement("button",{className:"btn btn-success",onClick:function(e){e.preventDefault(),Re(!0)}},"Apply Gift Certificate"),Ce&&React.createElement("div",{className:"bookitfast-container"},React.createElement("form",{id:"bookitfast_enter_gift_certificate",className:"bookitfast-certificate-form"},React.createElement("div",{className:"form-group form-row"},React.createElement("label",null,"Certificate Number:"),React.createElement("input",{type:"text",value:we.number,onChange:function(e){return _e(b(b({},we),{},{number:e.target.value}))},className:"form-control"})),React.createElement("div",{className:"form-group form-row"},React.createElement("label",null,"Pin:"),React.createElement("input",{type:"number",value:we.pin,onChange:function(e){return _e(b(b({},we),{},{pin:e.target.value}))},className:"form-control"})),React.createElement("div",{className:"form-row"},React.createElement("button",{className:"btn btn-success",onClick:Fe},"Apply"))),Ne&&Ne.valid&&Ne.amount_remaining>0&&React.createElement("div",{className:"alert alert-success form-row"},React.createElement("p",null,"Successfully Applied Gift Certificate"),React.createElement("p",null,"An amount of $",Ne.gc_amount_applied," has been applied to your order"),React.createElement("p",null,"Your Gift Certifcate will have a balance of $",Ne.gc_balance_after_order," after the order is placed.")))):null),U&&(U&&U.property_summaries?React.createElement("div",{className:"bookitfast-container"},React.createElement("h3",{className:"aligncenter centered"},"Property Booking Summary"),Object.entries(U.property_summaries).map((function(e){var t,r,n=k(e,2),a=n[0],o=n[1];return React.createElement("div",{key:a,className:"property_summary_item"},React.createElement("h4",{className:"property_summary_item_title"},o.name),React.createElement("div",{className:"property_summary_item_body"},React.createElement("div",{className:"property_summary_detail_row property_summary_item_body_section"},React.createElement("div",null,"Subtotal:"),React.createElement("div",null,"$",o.sub_total)),(null===(t=o.mandatory_extras)||void 0===t?void 0:t.length)>0&&React.createElement("div",{className:"bookitfast_extras"},React.createElement("h4",{className:"property_summary_sub_heading property_summary_item_body_section"},"Mandatory Extras Included"),o.mandatory_extras.map((function(e){return React.createElement("div",{key:e.id,className:"property_summary_detail_row property_summary_item_body_section"},React.createElement("div",null,e.description),React.createElement("div",null,"$",e.amount))}))),(null===(r=o.optional_extras)||void 0===r?void 0:r.length)>0&&React.createElement("div",{className:"optional_extras"},React.createElement("h4",{className:"property_summary_sub_heading property_summary_item_body_section"},"Optional Extras Included"),o.optional_extras.map((function(e){return React.createElement("div",{key:e.id,className:"property_summary_detail_row property_summary_item_body_section"},React.createElement("div",null,e.description),React.createElement("div",null,"$",e.amount))}))),(o.last_minute_discount>0||o.discount_code_rate_applies)&&React.createElement("div",{className:"discounts"},React.createElement("h4",{className:"property_summary_sub_heading property_summary_item_body_section"},"Discounts"),o.last_minute_discount>0&&React.createElement("div",{className:"property_summary_detail_row property_summary_item_body_section"},React.createElement("div",null,"Last Minute Discount"),React.createElement("div",null,"-$",o.last_minute_discount)),o.discount_code_rate_applies&&React.createElement("div",{className:"property_summary_detail_row property_summary_item_body_section"},React.createElement("div",null,"Discount Code"),React.createElement("div",null,"-$",o.discount_code_discount))),React.createElement("div",{className:"property_summary_detail_row bookitfast_total_cost property_summary_item_body_section"},React.createElement("div",null,"Total Cost"),React.createElement("div",null,"$",o.grand_total))))}))):null),U&&React.createElement("div",{className:"user-details-form"},React.createElement("h3",null,"Your Details"),React.createElement("form",null,React.createElement("div",{className:"form-group form-row"},React.createElement("label",{htmlFor:"firstName"},"First Name:"),React.createElement("input",{type:"text",id:"firstName",className:"form-control",value:X.firstName,onChange:function(e){return Z(b(b({},X),{},{firstName:e.target.value}))}})),be.firstName&&React.createElement("div",{className:"alert alert-danger"},be.firstName),React.createElement("div",{className:"form-group form-row"},React.createElement("label",{htmlFor:"lastName"},"Last Name:"),React.createElement("input",{type:"text",id:"lastName",className:"form-control",value:X.lastName,onChange:function(e){return Z(b(b({},X),{},{lastName:e.target.value}))}})),be.lastName&&React.createElement("div",{className:"alert alert-danger"},be.lastName),React.createElement("div",{className:"form-group form-row"},React.createElement("label",{htmlFor:"phone"},"Phone:"),React.createElement("input",{type:"tel",id:"phone",className:"form-control",value:X.phone,onChange:function(e){return Z(b(b({},X),{},{phone:e.target.value}))}})),be.phone&&React.createElement("div",{className:"alert alert-danger"},be.phone),React.createElement("div",{className:"form-group form-row"},React.createElement("label",{htmlFor:"email"},"Email:"),React.createElement("input",{type:"email",id:"email",className:"form-control",value:X.email,onChange:function(e){return Z(b(b({},X),{},{email:e.target.value}))}})),be.email&&React.createElement("div",{className:"alert alert-danger"},be.email),i&&React.createElement("div",null,React.createElement("div",{className:"form-group form-row"},React.createElement("label",{htmlFor:"postcode"},"Postcode:"),React.createElement("input",{type:"text",id:"postcode",className:"form-control",value:X.postcode,onChange:function(e){return Z(b(b({},X),{},{postcode:e.target.value}))}})),be.postcode&&React.createElement("div",{className:"alert alert-danger"},be.postcode)),o&&React.createElement("div",null,React.createElement("div",{className:"form-group form-row"},React.createElement("label",{htmlFor:"suburb"},"Suburb:"),React.createElement("input",{type:"text",id:"suburb",className:"form-control",value:X.suburb,onChange:function(e){return Z(b(b({},X),{},{suburb:e.target.value}))}})),be.suburb&&React.createElement("div",{className:"alert alert-danger"},be.suburb)),p&&React.createElement("div",{className:"form-group form-row"},React.createElement("label",{htmlFor:"comments"},"Comments:"),React.createElement("textarea",{id:"comments",className:"form-control",value:X.comments,onChange:function(e){return Z(b(b({},X),{},{comments:e.target.value}))}})))),U&&function(){if(!U||!U.order_booking_conditions||0===U.order_booking_conditions.length)return null;var e=U.order_booking_conditions.map((function(e){return e.title}));return e.length>1?(e.slice(0,-1).join(", "),e[e.length-1]):e[0],React.createElement("div",{className:"terms-checkbox bookitfast-text"},React.createElement("input",{type:"checkbox",id:"agreeToTerms",checked:te,onChange:function(){return re(!te)}}),React.createElement("label",{htmlFor:"agreeToTerms"},"I have read and agree to the"," ",U.order_booking_conditions.map((function(e,t){return React.createElement("span",{key:t},React.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title),t<U.order_booking_conditions.length-2?", ":"",t===U.order_booking_conditions.length-2?" and ":"")}))),be.agreeToTerms&&React.createElement("p",{className:"error-text"},be.agreeToTerms))}(),U&&!me&&React.createElement("div",{className:"payment-options"},Object.keys(be).length>0&&React.createElement("div",{className:"alert alert-danger"},"Please rectify the highlighted errors before proceeding with payment."),Ne&&Ne.valid?React.createElement("div",{className:"gift-certificate-payment-option"},0===U.order_payable_now?React.createElement("button",{className:"btn btn-success btn-rounded",onClick:Me},"Pay in full with Gift Certificate"):React.createElement("button",{className:"btn btn-success btn-rounded",onClick:function(){return De("gift")}},"Apply Gift Certificate and Pay $",U.order_payable_now)):null,(!Ne||!Ne.valid)&&(U.order_deposit_amount>0?React.createElement("div",null,React.createElement("button",{className:"btn btn-primary mr-6",onClick:function(){return De("deposit")}},"Pay Deposit ($",U.order_deposit_amount,")"),React.createElement("button",{className:"btn btn-primary",onClick:function(){return De("full")}},"Pay In Full ($",U.order_payable_now,")")):React.createElement("button",{className:"btn btn-primary",onClick:function(){return De("full")}},"Pay Now ($",U.order_payable_now,")")),U.order_surcharge>0&&React.createElement("div",{className:"surcharge-info"},React.createElement("p",null,"Please note a credit card surcharge applies of",U.order_deposit_surcharge>0?React.createElement(React.Fragment,null," $",U.order_deposit_surcharge," for deposit or "):null,"$",U.order_surcharge," for the full payment."))),Y&&U&&me&&React.createElement("div",{className:"bookitfast-container"},React.createElement(h.Elements,{stripe:Y},React.createElement(P,{summary:U,propertyIds:"string"==typeof n?n.split(",").map((function(e){return parseInt(e.trim())})):n,userDetails:X,paymentType:he,giftCertificate:"gift"===he?Ne:null}))))},O=wp.blocks,A=wp.blockEditor,T=wp.components;function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],s=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var D=wp.element,F=D.useState,M=D.useEffect;(0,O.registerBlockType)("bookitfast/multi-embed",{title:"Book It Fast Availability",description:"A multi-property booking embed for WordPress.",icon:"calendar",category:"widgets",attributes:{propertyIds:{type:"string",default:""},showDiscount:{type:"boolean",default:!1},showSuburb:{type:"boolean",default:!1},showPostcode:{type:"boolean",default:!1},showRedeemGiftCertificate:{type:"boolean",default:!1},showComments:{type:"boolean",default:!1}},edit:function(e){var t=e.attributes,r=e.setAttributes,n=(0,A.useBlockProps)(),a=I(F([]),2),o=a[0],c=a[1],i=I(F(!0),2),s=i[0],l=i[1],u=I(F(null),2),p=u[0],m=u[1];return M((function(){wp.apiFetch({path:"/bookitfast/v1/properties"}).then((function(e){e.success?c(e.properties):m("Failed to fetch properties.")})).catch((function(e){console.error("API Fetch Error:",e),m("Error fetching properties.")})).finally((function(){return l(!1)}))}),[]),React.createElement("div",n,React.createElement(A.InspectorControls,null,React.createElement(T.PanelBody,{title:"Settings",initialOpen:!0},s?React.createElement("p",null,"Loading properties..."):p?React.createElement("p",{style:{color:"red"}},p):React.createElement(T.SelectControl,{multiple:!0,label:"Select Properties",value:t.propertyIds?t.propertyIds.split(","):[],options:o.map((function(e){return{label:e.title,value:e.id.toString()}})),onChange:function(e){var t=e.join(",");r({propertyIds:t})}}),React.createElement(T.ToggleControl,{label:"Show Discount Field",checked:t.showDiscount,onChange:function(e){return r({showDiscount:e})}}),React.createElement(T.ToggleControl,{label:"Show Suburb Field",checked:t.showSuburb,onChange:function(e){return r({showSuburb:e})}}),React.createElement(T.ToggleControl,{label:"Show Postcode Field",checked:t.showPostcode,onChange:function(e){return r({showPostcode:e})}}),React.createElement(T.ToggleControl,{label:"Show Redeem Gift Certificate Section",checked:t.showRedeemGiftCertificate,onChange:function(e){return r({showRedeemGiftCertificate:e})}}),React.createElement(T.ToggleControl,{label:"Show Comments Field",checked:t.showComments,onChange:function(e){return r({showComments:e})}}))),React.createElement(j,{propertyIds:t.propertyIds,showDiscount:t.showDiscount,showSuburb:t.showSuburb,showPostcode:t.showPostcode,showRedeemGiftCertificate:t.showRedeemGiftCertificate,showComments:t.showComments}))},save:function(){return null}})})()})();